<!--
    Copyright 2005-2008 Adobe Systems Incorporated
    Distributed under the MIT License (see accompanying file LICENSE_1_0_0.txt
    or a copy at http://stlab.adobe.com/licenses.html)

    Some files are held under additional license.
    Please see "http://stlab.adobe.com/licenses.html" for more information.
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
    <TITLE>Adobe Software Technology Lab: cmath Extensions</TITLE>
    <META HTTP-EQUIV="content-type" CONTENT="text/html;charset=ISO-8859-1"/>
    <LINK TYPE="text/css" REL="stylesheet" HREF="adobe_source.css"/>
    <LINK REL="alternate" TITLE="stlab.adobe.com RSS" HREF="http://sourceforge.net/export/rss2_projnews.php?group_id=132417&amp;rss_fulltext=1" TYPE="application/rss+xml"/>
    <script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script>
</head>
<body>
<div id='content'>
<table><tr>
<td colspan='5'>
    <div id='opensource_banner'>
    <table style='width: 100%; padding: 5px;'><tr>
    <td align='left'>
        <a href='index.html' style='border: none'><img src='stlab2007.jpg' alt="stlab.adobe.com"/></a>
    </td>
    <td align='right'>
        <a href='http://www.adobe.com' style='border: none'><img src='adobe_hlogo.gif' alt="Adobe Systems Incorporated"/></a>
    </td>
    </tr></table>
    </div>
</td></tr><tr>
<td valign="top">
    <div id='navtable' height='100%'>
    <div style='margin: 5px'>
        <h4>Documentation</h4>

        <a href="group__asl__overview.html">Overview</a><br/>
        <a href="asl_readme.html">Building ASL</a><br/>
        <a href="asl_toc.html">Documentation</a><br/>
        <a href="http://stlab.adobe.com/wiki/index.php/Supplementary_ASL_Documentation">Library Wiki Docs</a><br/>
        <a href="asl_indices.html">Indices</a><br/>
        <a href="http://stlab.adobe.com/perforce/">Browse Perforce</a><br/>

        <h4>More Info</h4>

        <a href="asl_release_notes.html">Release Notes</a><br/>
        <a href="http://stlab.adobe.com/wiki/">Wiki</a><br/>
        <a href="asl_search.html">Site Search</a><br/>
        <a href="licenses.html">License</a><br/>
        <a href="success_stories.html">Success Stories</a><br/>
        <a href="asl_contributors.html">Contributors</a><br/>

        <h4>Media</h4>

        <a href="http://sourceforge.net/project/showfiles.php?group_id=132417&amp;package_id=145420">Download</a><br/>
        <a href="asl_download_perforce.html">Perforce Depots</a><br/>

        <h4>Support</h4>

        <a href="http://sourceforge.net/projects/adobe-source/">ASL SourceForge Home</a><br/>
        <a href="http://sourceforge.net/mail/?group_id=132417">Mailing Lists</a><br/>
        <a href="http://sourceforge.net/forum/?group_id=132417">Discussion Forums</a><br/>
        <a href="http://sourceforge.net/tracker/?atid=724218&amp;group_id=132417&amp;func=browse">Report Bugs</a><br/>
        <a href="http://sourceforge.net/tracker/?atid=724221&amp;group_id=132417&amp;func=browse">Suggest Features</a><br/>
        <a href="asl_contributing.html">Contribute to ASL</a><br/>

        <h4>RSS</h4>

        <a href="http://sourceforge.net/export/rss2_projnews.php?group_id=132417">Short-text news</a><br/>
        <a href="http://sourceforge.net/export/rss2_projnews.php?group_id=132417&amp;rss_fulltext=1">Full-text news</a><br/>
        <a href="http://sourceforge.net/export/rss2_projfiles.php?group_id=132417">File releases</a><br/>

        <h4>Other Adobe Projects</h4>

        <a href="http://sourceforge.net/adobe/">Open @ Adobe</a><br/>
        <a href="http://opensource.adobe.com/">Adobe Open Source</a><br/>
        <a href="http://labs.adobe.com/">Adobe Labs</a><br/>
        <a href="http://stlab.adobe.com/amg/">Adobe Media Gallery</a><br/>
        <a href="http://stlab.adobe.com/performance/">C++ Benchmarks</a><br/>

        <h4>Other Resources</h4>

        <a href="http://boost.org">Boost</a><br/>
        <a href="http://www.riaforge.com/">RIAForge</a><br/>
        <a href="http://www.sgi.com/tech/stl">SGI STL</a><br/>
    </div>
    </div>
</td>
<td id='maintable' width="100%" valign="top">

<!-- End Header -->
<!-- Generated by Doxygen 1.7.2 -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>cmath Extensions<br/>
<small>
[<a class="el" href="group__utility.html">Utility</a>]</small>
</h1>  </div>
</div>
<div class="contents">
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadobe_1_1nearest__cast__fn.html">nearest_cast_fn&lt; A, R &gt;</a></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmath.html#ga5abb24ffdadc90fe6560a35669617b31">lround_half_up</a> (double x)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmath.html#ga541dd4d34a8602a7674fcc2c6d2f4818">lround_half_up</a> (float x)</td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename R , typename A &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">R&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__cmath.html#ga2ac3eb4e26abc6dce8c7ddc243c03802">nearest_cast</a> (const A &amp;x)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmath.html#ga42e8da8b1daaa48ec4c1dc6d6b064152">round_half_up</a> (float x)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmath.html#ga37b25cb6c83d3a729ab6b1820510fc6a">round_half_up</a> (double x)</td></tr>
<tr><td colspan="2"><h2><a name="member-group"></a>
Compatibility</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrpdf9c715f20aaf58fb3926cc02b08ec53"></a>Compatibility features for C99/TR1 <code>&lt;cmath&gt;</code>. </p>
<br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef Float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmath.html#ga5c524a12d2300e013481646d02140c14">double_t</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef Float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmath.html#gab4335f5a2e2dfa5d4a7b6f812815a092">float_t</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmath.html#gab2e62ed7ab2589ef77c8023be336ccc2">round</a> (double x)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmath.html#ga835fa1e2629b36447b65acc6483864fc">round</a> (float x)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmath.html#ga1442e7c1a35273bc06a65d6ad10cd1d1">lround</a> (double x)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmath.html#ga964a79366844d30a5eba35746dc1d984">lround</a> (float x)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmath.html#gab340c70f2881c3af8a746004c1683294">trunc</a> (double x)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmath.html#ga0e3638e6a118cb2141a684484d53c5c5">trunc</a> (float x)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p><code>&lt;<a class="el" href="cmath_8hpp.html">adobe/cmath.hpp</a>&gt;</code> provides type definitions and functions based on the 1999 C Standard header <code>&lt;math.h&gt;</code> wrapped in <code>namespace adobe</code>. Currently, the set of provided types and functions is limited, please request extensions to this file as needed.</p>
<p>The C99/TR1 extensions supplied here for compatibility are:</p>
<ul>
<li>adobe::double_t - A type at least as wide as double.</li>
<li>adobe::float_t - A type at least as wide as float.</li>
</ul>
<ul>
<li>adobe::trunc - Returns the truncated integer value.</li>
<li>adobe::round - Returns nearest integer value in floating-point format, rounding halfway cases away from zero, regardless of the current rounding direction.</li>
<li>adobe::lround - Same as <code><a class="el" href="group__cmath.html#gab2e62ed7ab2589ef77c8023be336ccc2">round()</a></code>, but returns a long int.</li>
</ul>
<p>The implementation may <code>#include &lt;math.h&gt;</code>.</p>
<p>There are also additions in this file not related to the C99 but are nevertheless appropriate as cmath extensions. </p>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="ga5c524a12d2300e013481646d02140c14"></a><!-- doxytag: member="adobe::double_t" ref="ga5c524a12d2300e013481646d02140c14" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef Float double_t</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cmath_8hpp_source.html#l00161">161</a> of file <a class="el" href="cmath_8hpp_source.html">cmath.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="gab4335f5a2e2dfa5d4a7b6f812815a092"></a><!-- doxytag: member="adobe::float_t" ref="gab4335f5a2e2dfa5d4a7b6f812815a092" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef Float float_t</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="cmath_8hpp_source.html#l00162">162</a> of file <a class="el" href="cmath_8hpp_source.html">cmath.hpp</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga1442e7c1a35273bc06a65d6ad10cd1d1"></a><!-- doxytag: member="adobe::lround" ref="ga1442e7c1a35273bc06a65d6ad10cd1d1" args="(double x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long adobe::lround </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"> <em>x</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ga964a79366844d30a5eba35746dc1d984"></a><!-- doxytag: member="adobe::lround" ref="ga964a79366844d30a5eba35746dc1d984" args="(float x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long adobe::lround </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"> <em>x</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ga5abb24ffdadc90fe6560a35669617b31"></a><!-- doxytag: member="adobe::lround_half_up" ref="ga5abb24ffdadc90fe6560a35669617b31" args="(double x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long lround_half_up </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"> <em>x</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>The nearest integer value, rounding halfway cases towards positive infinity, regardless of the current rounding direction. If the rounded value is outside the range of the return type, the numeric result is unspecified. A range error may occur if the magnitude of <em>x</em> is too large. </dd></dl>

<p>Definition at line <a class="el" href="cmath_8hpp_source.html#l00192">192</a> of file <a class="el" href="cmath_8hpp_source.html">cmath.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ga541dd4d34a8602a7674fcc2c6d2f4818"></a><!-- doxytag: member="adobe::lround_half_up" ref="ga541dd4d34a8602a7674fcc2c6d2f4818" args="(float x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long lround_half_up </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"> <em>x</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="user"><dt><b>See:</b></dt><dd>adobe::lround_half_up(double x) </dd></dl>

<p>Definition at line <a class="el" href="cmath_8hpp_source.html#l00195">195</a> of file <a class="el" href="cmath_8hpp_source.html">cmath.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ga2ac3eb4e26abc6dce8c7ddc243c03802"></a><!-- doxytag: member="adobe::nearest_cast" ref="ga2ac3eb4e26abc6dce8c7ddc243c03802" args="(const A &amp;x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">R nearest_cast </td>
          <td>(</td>
          <td class="paramtype">const A &amp;&#160;</td>
          <td class="paramname"> <em>x</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This function addresses the problem where a value of a floating-point type is to be converted to an unknown user-defined type. If the unknown type is an integral type, the argument should be rounded. If not, the argument should be cast directly to the return type. nearest_cast performs the rounding if necessary using <a class="el" href="group__cmath.html#ga37b25cb6c83d3a729ab6b1820510fc6a">round_half_up()</a>.</p>
<p><a class="el" href="structadobe_1_1nearest__cast__fn.html">adobe::nearest_cast_fn</a> is the function object form of adobe::nearest_cast and may be specialized to with a user defined type to customize adobe::nearest_cast.</p>
<dl class="user"><dt><b>Requirements:</b></dt><dd>Type A should be convertible to type R. If R is an integral type, it should be large enough to store the value in <em>x</em> after rounding.</dd></dl>
<dl class="user"><dt><b>Example:</b></dt><dd><div class="fragment"><pre class="fragment"><span class="keywordtype">int</span> i = <a class="code" href="group__cmath.html#ga2ac3eb4e26abc6dce8c7ddc243c03802">nearest_cast</a>&lt;<span class="keywordtype">int</span>&gt;(9.5);
assert(i == 10);

<span class="keywordtype">float</span> f = <a class="code" href="group__cmath.html#ga2ac3eb4e26abc6dce8c7ddc243c03802">nearest_cast</a>&lt;<span class="keywordtype">float</span>&gt;(9.5);
assert(f == 9.5);

<span class="keyword">template</span> &lt;<span class="keyword">typename</span> Result, <span class="keyword">typename</span> Argument&gt; 
Result half(<span class="keyword">const</span> Argument&amp; x) 
{ 
    <span class="keywordflow">return</span> <a class="code" href="group__cmath.html#ga2ac3eb4e26abc6dce8c7ddc243c03802">nearest_cast</a>&lt;Result&gt;(x/2.0);
} 

<span class="keyword">template</span> &lt;<span class="keyword">typename</span> II,  <span class="comment">// II models Input Iterator </span>
          <span class="keyword">typename</span> OI&gt;  <span class="comment">// OI models Output Iterator</span>
<span class="keywordtype">void</span> nearest_sequence(II first, II last, OI result)
{ 
    <a class="code" href="group__transform.html#gab3269122ec8fa082cda5af5718885196" title="transform implementation">std::transform</a>(first, last, result,
        nearest_cast_fn&lt;typename II::value_type, typename OI::value_type&gt;());
}
</pre></div> </dd></dl>

<p>Definition at line <a class="el" href="cmath_8hpp_source.html#l00210">210</a> of file <a class="el" href="cmath_8hpp_source.html">cmath.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ga835fa1e2629b36447b65acc6483864fc"></a><!-- doxytag: member="adobe::round" ref="ga835fa1e2629b36447b65acc6483864fc" args="(float x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float adobe::round </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"> <em>x</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="gab2e62ed7ab2589ef77c8023be336ccc2"></a><!-- doxytag: member="adobe::round" ref="gab2e62ed7ab2589ef77c8023be336ccc2" args="(double x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double adobe::round </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"> <em>x</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ga37b25cb6c83d3a729ab6b1820510fc6a"></a><!-- doxytag: member="adobe::round_half_up" ref="ga37b25cb6c83d3a729ab6b1820510fc6a" args="(double x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double round_half_up </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"> <em>x</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>The nearest integer value in floating-point format, rounding halfway cases towards positive infinity, regardless of the current rounding direction. </dd></dl>

<p>Definition at line <a class="el" href="cmath_8hpp_source.html#l00186">186</a> of file <a class="el" href="cmath_8hpp_source.html">cmath.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ga42e8da8b1daaa48ec4c1dc6d6b064152"></a><!-- doxytag: member="adobe::round_half_up" ref="ga42e8da8b1daaa48ec4c1dc6d6b064152" args="(float x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float round_half_up </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"> <em>x</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="user"><dt><b>See:</b></dt><dd>adobe::round_half_up(double x). </dd></dl>

<p>Definition at line <a class="el" href="cmath_8hpp_source.html#l00189">189</a> of file <a class="el" href="cmath_8hpp_source.html">cmath.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="gab340c70f2881c3af8a746004c1683294"></a><!-- doxytag: member="adobe::trunc" ref="gab340c70f2881c3af8a746004c1683294" args="(double x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double adobe::trunc </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"> <em>x</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ga0e3638e6a118cb2141a684484d53c5c5"></a><!-- doxytag: member="adobe::trunc" ref="ga0e3638e6a118cb2141a684484d53c5c5" args="(float x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float adobe::trunc </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"> <em>x</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
</div>

<!-- Begin Footer -->
</td></tr>
</table>
</div> <!-- content -->
<div class='footerdiv'>
    <div id='footersub'>
        <ul>
            <li><a href="http://www.adobe.com/go/gftray_foot_aboutadobe">Company</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_privacy_security">Online Privacy Policy</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_terms">Terms of Use</a>&nbsp;|&nbsp;</li>
    
            <li><a href="http://www.adobe.com/go/gftray_foot_contact_adobe">Contact Us</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_accessibility">Accessibility</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_report_piracy">Report Piracy</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_permissions_trademarks">Permissions &amp; Trademarks</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_product_license_agreements">Product License Agreements</a>&nbsp;|&nbsp;</li>
    
            <li><a href="http://www.adobe.com/go/gftray_foot_feedback">Send Feedback</a></li>
        </ul>
        <div>
            <p>Copyright &#169; 2006-2007 Adobe Systems Incorporated.</p>
            <p>Use of this website signifies your agreement to the <a href="http://www.adobe.com/go/gftray_foot_terms">Terms of Use</a> and <a href="http://www.adobe.com/go/gftray_foot_privacy_security">Online Privacy Policy</a>.</p>
            <p>Search powered by <a href="http://www.google.com/" target="new">Google</a></p>
        </div>
	</div>
</div>
<script type="text/javascript">
_uacct = "UA-396569-1";
urchinTracker();
</script>
</body>
</html>
