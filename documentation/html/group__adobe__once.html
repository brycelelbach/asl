<!--
    Copyright 2005-2008 Adobe Systems Incorporated
    Distributed under the MIT License (see accompanying file LICENSE_1_0_0.txt
    or a copy at http://stlab.adobe.com/licenses.html)

    Some files are held under additional license.
    Please see "http://stlab.adobe.com/licenses.html" for more information.
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
    <TITLE>Adobe Software Technology Lab: Once</TITLE>
    <META HTTP-EQUIV="content-type" CONTENT="text/html;charset=ISO-8859-1"/>
    <LINK TYPE="text/css" REL="stylesheet" HREF="adobe_source.css"/>
    <LINK REL="alternate" TITLE="stlab.adobe.com RSS" HREF="http://sourceforge.net/export/rss2_projnews.php?group_id=132417&amp;rss_fulltext=1" TYPE="application/rss+xml"/>
    <script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script>
</head>
<body>
<div id='content'>
<table><tr>
<td colspan='5'>
    <div id='opensource_banner'>
    <table style='width: 100%; padding: 5px;'><tr>
    <td align='left'>
        <a href='index.html' style='border: none'><img src='stlab2007.jpg' alt="stlab.adobe.com"/></a>
    </td>
    <td align='right'>
        <a href='http://www.adobe.com' style='border: none'><img src='adobe_hlogo.gif' alt="Adobe Systems Incorporated"/></a>
    </td>
    </tr></table>
    </div>
</td></tr><tr>
<td valign="top">
    <div id='navtable' height='100%'>
    <div style='margin: 5px'>
        <h4>Documentation</h4>

        <a href="group__asl__overview.html">Overview</a><br/>
        <a href="asl_readme.html">Building ASL</a><br/>
        <a href="asl_toc.html">Documentation</a><br/>
        <a href="http://stlab.adobe.com/wiki/index.php/Supplementary_ASL_Documentation">Library Wiki Docs</a><br/>
        <a href="asl_indices.html">Indices</a><br/>
        <a href="http://stlab.adobe.com/perforce/">Browse Perforce</a><br/>

        <h4>More Info</h4>

        <a href="asl_release_notes.html">Release Notes</a><br/>
        <a href="http://stlab.adobe.com/wiki/">Wiki</a><br/>
        <a href="asl_search.html">Site Search</a><br/>
        <a href="licenses.html">License</a><br/>
        <a href="success_stories.html">Success Stories</a><br/>
        <a href="asl_contributors.html">Contributors</a><br/>

        <h4>Media</h4>

        <a href="http://sourceforge.net/project/showfiles.php?group_id=132417&amp;package_id=145420">Download</a><br/>
        <a href="asl_download_perforce.html">Perforce Depots</a><br/>

        <h4>Support</h4>

        <a href="http://sourceforge.net/projects/adobe-source/">ASL SourceForge Home</a><br/>
        <a href="http://sourceforge.net/mail/?group_id=132417">Mailing Lists</a><br/>
        <a href="http://sourceforge.net/forum/?group_id=132417">Discussion Forums</a><br/>
        <a href="http://sourceforge.net/tracker/?atid=724218&amp;group_id=132417&amp;func=browse">Report Bugs</a><br/>
        <a href="http://sourceforge.net/tracker/?atid=724221&amp;group_id=132417&amp;func=browse">Suggest Features</a><br/>
        <a href="asl_contributing.html">Contribute to ASL</a><br/>

        <h4>RSS</h4>

        <a href="http://sourceforge.net/export/rss2_projnews.php?group_id=132417">Short-text news</a><br/>
        <a href="http://sourceforge.net/export/rss2_projnews.php?group_id=132417&amp;rss_fulltext=1">Full-text news</a><br/>
        <a href="http://sourceforge.net/export/rss2_projfiles.php?group_id=132417">File releases</a><br/>

        <h4>Other Adobe Projects</h4>

        <a href="http://sourceforge.net/adobe/">Open @ Adobe</a><br/>
        <a href="http://opensource.adobe.com/">Adobe Open Source</a><br/>
        <a href="http://labs.adobe.com/">Adobe Labs</a><br/>
        <a href="http://stlab.adobe.com/amg/">Adobe Media Gallery</a><br/>
        <a href="http://stlab.adobe.com/performance/">C++ Benchmarks</a><br/>

        <h4>Other Resources</h4>

        <a href="http://boost.org">Boost</a><br/>
        <a href="http://www.riaforge.com/">RIAForge</a><br/>
        <a href="http://www.sgi.com/tech/stl">SGI STL</a><br/>
    </div>
    </div>
</td>
<td id='maintable' width="100%" valign="top">

<!-- End Header -->
<!-- Generated by Doxygen 1.7.2 -->
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>Once<br/>
<small>
[<a class="el" href="group__thread.html">Concurrent Programming</a>]</small>
</h1>  </div>
</div>
<div class="contents">

<p>Thread safety code for compilation in environments both with and without thread support.  
<a href="#_details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__adobe__once.html#ga57dadc80cfad226700157b2ef6daf334">ADOBE_GLOBAL_MUTEX_DEFINITION</a>(signature)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__adobe__once.html#ga42c4c81645cce615329b9256d4674be4">ADOBE_GLOBAL_MUTEX_INSTANCE</a>(signature)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__adobe__once.html#gab53137ecae4bc3301bf06c14849d63bd">ADOBE_ONCE_DECLARATION</a>(signature)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__adobe__once.html#ga9cae5ece422fd74defbe7df0d808086d">ADOBE_ONCE_DEFINITION</a>(signature, func)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__adobe__once.html#ga52139fe013393544bbeac8d515563124">ADOBE_ONCE_INIT</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__adobe__once.html#gad88d911fbce777ce358557e7a1e25562">ADOBE_ONCE_INSTANCE</a>(signature)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__adobe__once.html#ga14b17d5482c2c2738cf2ca9553068ab9">ADOBE_ONCE_STATIC_INSTANCE</a>(signature)</td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__adobe__once.html#ga48582dd50c0a90b3cc586e491ad00d39">once_flag</a></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__adobe__once.html#gae513258f9be831d19ca8a8172cbd78d1">call_once</a> (void(*func)(), <a class="el" href="group__adobe__once.html#ga48582dd50c0a90b3cc586e491ad00d39">adobe::once_flag</a> &amp;flag)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<dl class="user"><dt><b></b></dt><dd>The adobe/once collection provides threadsafe functionality for code that can be built in environments that are either thread-aware or have no thread support. The code automatically detects the environment in which it is being built, and compiles the proper code for that environment. In a thread-aware environment the code utilizes the boost thread codebase, while in a environments without thread support it uses booleans. Thread support is determined by BOOST_HAS_THREADS and can be explicitly disabled by defining BOOST_DISABLE_THREADS.</dd></dl>
<hr/>
<h2><a class="anchor" id="adobe_once_macros"></a>
ADOBE_ONCE Macro Documentation</h2>
<dl class="user"><dt><b></b></dt><dd>The ADOBE_ONCE suite of macros is intended to provide boilerplate code that is common in thread-aware environments to support thread safety for intialization of translation unit globals, static variables, and shared variables across multiple translation units. The macros, like the rest of the adobe/once suite, can be used in environments without thread support environments to achieve similar one-time execution guarantees the thread-aware environment leverages.</dd></dl>
<dl class="user"><dt><b></b></dt><dd>The <code>signature</code> parameter in all of these macros ties multiple macros together and provides for a distinguishing tag that prevents multiple ADOBE_ONCE instance collisions. This tag will be appended to utility structs and variables within the macro, so is not a string: just a tag.</dd></dl>
<p>There are three (four) cases for which the ADOBE_ONCE macros are written:</p>
<dl class="user"><dt><b>1a) ADOBE_ONCE_DECLARATION/STATIC_INSTANCE/DEFINITION (Globally Shared)</b></dt><dd>Used to initialize items before first function call in the compilation unit (static initialization). These should be used sparingly as most compilers will initialize prior to main, which may add to launch times. Items initialized this way can be used by other objects at static initialization time which are declared after the STATIC_INSTANCE. This is a similar technique to the one used by most standard libraries to initialize <code>std::cin</code> and <code>std::cout</code>. </dd></dl>
<dl class="user"><dt><b>Example:</b></dt><dd>In <code>sample_header_1a.hpp</code>: <div class="fragment"><pre class="fragment"><span class="preprocessor">#include &lt;<a class="code" href="once_8hpp.html">adobe/once.hpp</a>&gt;</span>

<a class="code" href="group__adobe__once.html#gab53137ecae4bc3301bf06c14849d63bd">ADOBE_ONCE_DECLARATION</a>(signature_1a)
<a class="code" href="group__adobe__once.html#ga14b17d5482c2c2738cf2ca9553068ab9">ADOBE_ONCE_STATIC_INSTANCE</a>(signature_1a)

<span class="comment">// ... rest of shared header file content</span>
</pre></div> In <code>sample_source_1a.cpp</code>: <div class="fragment"><pre class="fragment"><span class="keywordtype">void</span> init_once_1a()
{
    <span class="comment">// initialization of global variables to initial values</span>
}

<span class="comment">// ...</span>

<a class="code" href="group__adobe__once.html#ga9cae5ece422fd74defbe7df0d808086d">ADOBE_ONCE_DEFINITION</a>(signature_1a, init_once_1a)
</pre></div></dd></dl>
<dl class="user"><dt><b>1b) ADOBE_ONCE_DECLARATION/STATIC_INSTANCE/DEFINITION (Globally Unshared)</b></dt><dd>Identical to (1a) except the declaration and instance are placed in the source file rather than in a header file. </dd></dl>
<dl class="user"><dt><b>Example:</b></dt><dd>In <code>sample_source_1b.cpp</code>: <div class="fragment"><pre class="fragment"><span class="preprocessor">#include &lt;<a class="code" href="once_8hpp.html">adobe/once.hpp</a>&gt;</span>

<a class="code" href="group__adobe__once.html#gab53137ecae4bc3301bf06c14849d63bd">ADOBE_ONCE_DECLARATION</a>(signature_1b)
<a class="code" href="group__adobe__once.html#ga14b17d5482c2c2738cf2ca9553068ab9">ADOBE_ONCE_STATIC_INSTANCE</a>(signature_1b)

<span class="comment">// ...</span>

<span class="keywordtype">void</span> init_once_1b()
{
    <span class="comment">// initialization of global variables to initial values</span>
}

<span class="comment">// ...</span>

<a class="code" href="group__adobe__once.html#ga9cae5ece422fd74defbe7df0d808086d">ADOBE_ONCE_DEFINITION</a>(signature_1b, init_once_1b)
</pre></div></dd></dl>
<dl class="user"><dt><b>2) ADOBE_ONCE_DECLARATION/INSTANCE/DEFINITION</b></dt><dd>Used when you have a piece of code that can serve as a bottleneck for the call to the init_once function. For example, use this in a source file when you have unshared global variables supporting a pimpl class. Place <code><a class="el" href="group__adobe__once.html#gad88d911fbce777ce358557e7a1e25562">ADOBE_ONCE_INSTANCE(sig)</a>;</code> inside the pimpl constructor(s). </dd></dl>
<dl class="user"><dt><b>Example:</b></dt><dd>In <code>sample_source_2.cpp</code>: <div class="fragment"><pre class="fragment"><span class="preprocessor">#include &lt;<a class="code" href="once_8hpp.html">adobe/once.hpp</a>&gt;</span>

<a class="code" href="group__adobe__once.html#gab53137ecae4bc3301bf06c14849d63bd">ADOBE_ONCE_DECLARATION</a>(signature_2)

<span class="comment">// ... </span>

void init_once_2()
{
    <span class="comment">// initialization of global variables to initial values</span>
}

<span class="comment">// ... </span>

my_foo_t::implementation_t::implementation_t()
{
    <a class="code" href="group__adobe__once.html#gad88d911fbce777ce358557e7a1e25562">ADOBE_ONCE_INSTANCE</a>(signature_2); <span class="comment">// note the semicolon!</span>

    <span class="comment">// ... </span>
}

<span class="comment">// ... </span>

<a class="code" href="group__adobe__once.html#ga9cae5ece422fd74defbe7df0d808086d">ADOBE_ONCE_DEFINITION</a>(signature_2, init_once_2)
</pre></div></dd></dl>
<dl class="user"><dt><b>3) ADOBE_GLOBAL_MUTEX_DEFINITION/GLOBAL_MUTEX_INSTANCE</b></dt><dd>Used when you have a suite of data you want to initialize then protect in a multithreaded environment. This macro uses an additional mutex to control access to the data during initialization and successive modification. Any code from the instance macro to the end of the scope in which the macro is placed is thread safe. </dd></dl>
<dl class="user"><dt><b>Example:</b></dt><dd>In <code>sample_source_3.cpp</code>: <div class="fragment"><pre class="fragment"><span class="preprocessor">#include &lt;<a class="code" href="once_8hpp.html">adobe/once.hpp</a>&gt;</span>

<a class="code" href="group__adobe__once.html#ga57dadc80cfad226700157b2ef6daf334">ADOBE_GLOBAL_MUTEX_DEFINITION</a>(signature_3)

<span class="comment">// ... </span>

my_function_requiring_thread_safety()
{
    <a class="code" href="group__adobe__once.html#ga42c4c81645cce615329b9256d4674be4">ADOBE_GLOBAL_MUTEX_INSTANCE</a>(signature_3); <span class="comment">// note the semicolon!</span>

    <span class="comment">// ...</span>
}
</pre></div> </dd></dl>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ga57dadc80cfad226700157b2ef6daf334"></a><!-- doxytag: member="once.hpp::ADOBE_GLOBAL_MUTEX_DEFINITION" ref="ga57dadc80cfad226700157b2ef6daf334" args="(signature)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADOBE_GLOBAL_MUTEX_DEFINITION</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">signature&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Used in case (3) above.</p>
<p>Creates a translation-unit global mutex that is initialized in a threadsafe manner. In a environments without thread support environment, this macro is empty.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">signature</td><td>The unique signature used to relation this macro to other ADOBE_ONCE macros </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="once_8hpp_source.html#l00106">106</a> of file <a class="el" href="once_8hpp_source.html">once.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ga42c4c81645cce615329b9256d4674be4"></a><!-- doxytag: member="once.hpp::ADOBE_GLOBAL_MUTEX_INSTANCE" ref="ga42c4c81645cce615329b9256d4674be4" args="(signature)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADOBE_GLOBAL_MUTEX_INSTANCE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">signature&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Used in case (3) above.</p>
<p>Locks a scope with the mutex created from ADOBE_GLOBAL_MUTEX_DEFINITION to ensure thread safety of the code contained within said scope. In a environments without thread support environment, this macro is empty.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">signature</td><td>The unique signature used to relation this macro to other ADOBE_ONCE macros </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="once_8hpp_source.html#l00107">107</a> of file <a class="el" href="once_8hpp_source.html">once.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="gab53137ecae4bc3301bf06c14849d63bd"></a><!-- doxytag: member="once.hpp::ADOBE_ONCE_DECLARATION" ref="gab53137ecae4bc3301bf06c14849d63bd" args="(signature)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADOBE_ONCE_DECLARATION</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">signature&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Used in cases (1a), (1b), (2) above.</p>
<p>Declares a utility struct for supporting a call to adobe::call_once</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">signature</td><td>The unique signature used to relation this macro to other ADOBE_ONCE macros </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="once_8hpp_source.html#l00066">66</a> of file <a class="el" href="once_8hpp_source.html">once.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ga9cae5ece422fd74defbe7df0d808086d"></a><!-- doxytag: member="once.hpp::ADOBE_ONCE_DEFINITION" ref="ga9cae5ece422fd74defbe7df0d808086d" args="(signature, func)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADOBE_ONCE_DEFINITION</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">signature, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">func&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Used in cases (1a), (1b), (2) above.</p>
<p>Defines a utility struct for supporting a call to adobe::call_once with the specified function</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">signature</td><td>The unique signature used to relation this macro to other ADOBE_ONCE macros </td></tr>
    <tr><td class="paramname">func</td><td>The function to be called only once </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="once_8hpp_source.html#l00072">72</a> of file <a class="el" href="once_8hpp_source.html">once.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ga52139fe013393544bbeac8d515563124"></a><!-- doxytag: member="once.hpp::ADOBE_ONCE_INIT" ref="ga52139fe013393544bbeac8d515563124" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADOBE_ONCE_INIT</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Default setting for the <code>adobe::once_flag</code>. In a thread-aware environment this is the same as <code>BOOST_ONCE_INIT</code>, otherwise it is simply <code>false</code>. </p>

<p>Definition at line <a class="el" href="once_8hpp_source.html#l00045">45</a> of file <a class="el" href="once_8hpp_source.html">once.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="gad88d911fbce777ce358557e7a1e25562"></a><!-- doxytag: member="once.hpp::ADOBE_ONCE_INSTANCE" ref="gad88d911fbce777ce358557e7a1e25562" args="(signature)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADOBE_ONCE_INSTANCE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">signature&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Used in cases (2) above.</p>
<p>Creates an instance of the ADOBE_ONCE utility struct. During construction each instance of this struct will check to see if the one-time function has already been called, and calls it if necessary.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">signature</td><td>The unique signature used to relation this macro to other ADOBE_ONCE macros </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="once_8hpp_source.html#l00081">81</a> of file <a class="el" href="once_8hpp_source.html">once.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ga14b17d5482c2c2738cf2ca9553068ab9"></a><!-- doxytag: member="once.hpp::ADOBE_ONCE_STATIC_INSTANCE" ref="ga14b17d5482c2c2738cf2ca9553068ab9" args="(signature)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADOBE_ONCE_STATIC_INSTANCE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">signature&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Used in cases (1a), (1b) above.</p>
<p>Creates a tanslation-unit global instance of the ADOBE_ONCE utility struct. Use only once in a single translation-unit for the binary per macro signature.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">signature</td><td>The unique signature used to relation this macro to other ADOBE_ONCE macros </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="once_8hpp_source.html#l00084">84</a> of file <a class="el" href="once_8hpp_source.html">once.hpp</a>.</p>

</div>
</div>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="ga48582dd50c0a90b3cc586e491ad00d39"></a><!-- doxytag: member="adobe::once_flag" ref="ga48582dd50c0a90b3cc586e491ad00d39" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">once_flag</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>A flag used to guarantee the one-time execution of code. In a thread-aware environment this is the same as a <code>boost::once_flag</code>, otherwise it is simply a <code>bool</code>. </p>

<p>Definition at line <a class="el" href="once_8hpp_source.html#l00044">44</a> of file <a class="el" href="once_8hpp_source.html">once.hpp</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gae513258f9be831d19ca8a8172cbd78d1"></a><!-- doxytag: member="adobe::call_once" ref="gae513258f9be831d19ca8a8172cbd78d1" args="(void(*func)(), adobe::once_flag &amp;flag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void call_once </td>
          <td>(</td>
          <td class="paramtype">void(*)()&#160;</td>
          <td class="paramname"> <em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__adobe__once.html#ga48582dd50c0a90b3cc586e491ad00d39">adobe::once_flag</a> &amp;&#160;</td>
          <td class="paramname"> <em>flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">func</td><td>The function guaranteed to be executed only one time </td></tr>
    <tr><td class="paramname">flag</td><td>The flag to monitor onetime execution of the function</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname">Unknown</td><td>Propagates anything <code>func</code> throws</td></tr>
  </table>
  </dd>
</dl>
<p>In a thread-aware environment adobe::call_once is the same as boost::call_once. Otherwise it is a simple support function that executes <code>func</code> only once as flagged by <code>flag</code>. </p>

<p>Definition at line <a class="el" href="once_8hpp_source.html#l00047">47</a> of file <a class="el" href="once_8hpp_source.html">once.hpp</a>.</p>

</div>
</div>
</div>

<!-- Begin Footer -->
</td></tr>
</table>
</div> <!-- content -->
<div class='footerdiv'>
    <div id='footersub'>
        <ul>
            <li><a href="http://www.adobe.com/go/gftray_foot_aboutadobe">Company</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_privacy_security">Online Privacy Policy</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_terms">Terms of Use</a>&nbsp;|&nbsp;</li>
    
            <li><a href="http://www.adobe.com/go/gftray_foot_contact_adobe">Contact Us</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_accessibility">Accessibility</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_report_piracy">Report Piracy</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_permissions_trademarks">Permissions &amp; Trademarks</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_product_license_agreements">Product License Agreements</a>&nbsp;|&nbsp;</li>
    
            <li><a href="http://www.adobe.com/go/gftray_foot_feedback">Send Feedback</a></li>
        </ul>
        <div>
            <p>Copyright &#169; 2006-2007 Adobe Systems Incorporated.</p>
            <p>Use of this website signifies your agreement to the <a href="http://www.adobe.com/go/gftray_foot_terms">Terms of Use</a> and <a href="http://www.adobe.com/go/gftray_foot_privacy_security">Online Privacy Policy</a>.</p>
            <p>Search powered by <a href="http://www.google.com/" target="new">Google</a></p>
        </div>
	</div>
</div>
<script type="text/javascript">
_uacct = "UA-396569-1";
urchinTracker();
</script>
</body>
</html>
