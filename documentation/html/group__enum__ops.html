<!--
    Copyright 2005-2008 Adobe Systems Incorporated
    Distributed under the MIT License (see accompanying file LICENSE_1_0_0.txt
    or a copy at http://stlab.adobe.com/licenses.html)

    Some files are held under additional license.
    Please see "http://stlab.adobe.com/licenses.html" for more information.
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
    <TITLE>Adobe Software Technology Lab: Typesafe Integers and Bit Fields (enums)</TITLE>
    <META HTTP-EQUIV="content-type" CONTENT="text/html;charset=ISO-8859-1"/>
    <LINK TYPE="text/css" REL="stylesheet" HREF="adobe_source.css"/>
    <LINK REL="alternate" TITLE="stlab.adobe.com RSS" HREF="http://sourceforge.net/export/rss2_projnews.php?group_id=132417&amp;rss_fulltext=1" TYPE="application/rss+xml"/>
    <script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script>
</head>
<body>
<div id='content'>
<table><tr>
<td colspan='5'>
    <div id='opensource_banner'>
    <table style='width: 100%; padding: 5px;'><tr>
    <td align='left'>
        <a href='index.html' style='border: none'><img src='stlab2007.jpg' alt="stlab.adobe.com"/></a>
    </td>
    <td align='right'>
        <a href='http://www.adobe.com' style='border: none'><img src='adobe_hlogo.gif' alt="Adobe Systems Incorporated"/></a>
    </td>
    </tr></table>
    </div>
</td></tr><tr>
<td valign="top">
    <div id='navtable' height='100%'>
    <div style='margin: 5px'>
        <h4>Documentation</h4>

        <a href="group__asl__overview.html">Overview</a><br/>
        <a href="asl_readme.html">Building ASL</a><br/>
        <a href="asl_toc.html">Documentation</a><br/>
        <a href="http://stlab.adobe.com/wiki/index.php/Supplementary_ASL_Documentation">Library Wiki Docs</a><br/>
        <a href="asl_indices.html">Indices</a><br/>
        <a href="http://stlab.adobe.com/perforce/">Browse Perforce</a><br/>

        <h4>More Info</h4>

        <a href="asl_release_notes.html">Release Notes</a><br/>
        <a href="http://stlab.adobe.com/wiki/">Wiki</a><br/>
        <a href="asl_search.html">Site Search</a><br/>
        <a href="licenses.html">License</a><br/>
        <a href="success_stories.html">Success Stories</a><br/>
        <a href="asl_contributors.html">Contributors</a><br/>

        <h4>Media</h4>

        <a href="http://sourceforge.net/project/showfiles.php?group_id=132417&amp;package_id=145420">Download</a><br/>
        <a href="asl_download_perforce.html">Perforce Depots</a><br/>

        <h4>Support</h4>

        <a href="http://sourceforge.net/projects/adobe-source/">ASL SourceForge Home</a><br/>
        <a href="http://sourceforge.net/mail/?group_id=132417">Mailing Lists</a><br/>
        <a href="http://sourceforge.net/forum/?group_id=132417">Discussion Forums</a><br/>
        <a href="http://sourceforge.net/tracker/?atid=724218&amp;group_id=132417&amp;func=browse">Report Bugs</a><br/>
        <a href="http://sourceforge.net/tracker/?atid=724221&amp;group_id=132417&amp;func=browse">Suggest Features</a><br/>
        <a href="asl_contributing.html">Contribute to ASL</a><br/>

        <h4>RSS</h4>

        <a href="http://sourceforge.net/export/rss2_projnews.php?group_id=132417">Short-text news</a><br/>
        <a href="http://sourceforge.net/export/rss2_projnews.php?group_id=132417&amp;rss_fulltext=1">Full-text news</a><br/>
        <a href="http://sourceforge.net/export/rss2_projfiles.php?group_id=132417">File releases</a><br/>

        <h4>Other Adobe Projects</h4>

        <a href="http://sourceforge.net/adobe/">Open @ Adobe</a><br/>
        <a href="http://opensource.adobe.com/">Adobe Open Source</a><br/>
        <a href="http://labs.adobe.com/">Adobe Labs</a><br/>
        <a href="http://stlab.adobe.com/amg/">Adobe Media Gallery</a><br/>
        <a href="http://stlab.adobe.com/performance/">C++ Benchmarks</a><br/>

        <h4>Other Resources</h4>

        <a href="http://boost.org">Boost</a><br/>
        <a href="http://www.riaforge.com/">RIAForge</a><br/>
        <a href="http://www.sgi.com/tech/stl">SGI STL</a><br/>
    </div>
    </div>
</td>
<td id='maintable' width="100%" valign="top">

<!-- End Header -->
<!-- Generated by Doxygen 1.7.2 -->
<div class="header">
  <div class="headertitle">
<h1>Typesafe Integers and Bit Fields (enums)<br/>
<small>
[<a class="el" href="group__utility.html">Utility</a>]</small>
</h1>  </div>
</div>
<div class="contents">
<table class="memberdecls">
</table>
<h2><a class="anchor" id="Description"></a>
Description</h2>
<p><code>enum_ops</code> provides optional typesafe bitset and arithmetic operations for enumeration types. Without these typesafe operations, the compiler will promote the operand(s) to the appropriate integral type, and the result will be an integral type. When the typesafe operations have been defined for an enumeration type, <code>E</code>, the result will be of type <code>E</code> exactly when the operand(s) are of type <code>E</code>.</p>
<p><code><a class="el" href="enum__ops_8hpp.html#aac6ba96fd6777c7a5e10df0bead6156b">ADOBE_DEFINE_BITSET_OPS(E)</a></code> enables the bitset operations <code>~, |, &amp;, ^, |=, &amp;=, ^= </code> for enumeration type <code>E</code>.</p>
<p><code><a class="el" href="enum__ops_8hpp.html#ad74550fb40e89882fe875d27d13bf948">ADOBE_DEFINE_ARITHMETIC_OPS(E)</a></code> enables the typesafe arithmetic operations <code>+, -, *, /, %, +=, *=, -=, /=, %=</code> for enumeration type <code>E</code>.</p>
<h2><a class="anchor" id="Definition"></a>
Definition</h2>
<p>Defined in <a class="el" href="enum__ops_8hpp.html"><code>adobe/enum_ops.hpp</code> </a></p>
<h2><a class="anchor" id="Example"></a>
Example</h2>
<p>The following is an example of code that will compile:  <div class="fragment"><pre class="fragment"><span class="comment">// start_of_example</span>

<span class="preprocessor">#include &lt;boost/detail/lightweight_test.hpp&gt;</span>
<span class="preprocessor">#include &lt;<a class="code" href="enum__ops_8hpp.html">adobe/enum_ops.hpp</a>&gt;</span>

<span class="keyword">enum</span> Foo
    {
    foo_4 = 1 &lt;&lt; 2,
    foo_8 = 1 &lt;&lt; 3
    };

<a class="code" href="enum__ops_8hpp.html#aac6ba96fd6777c7a5e10df0bead6156b">ADOBE_DEFINE_BITSET_OPS</a>(Foo)

int main()
    {
    Foo     a(foo_4);
    Foo     b(foo_8);
    Foo     c(a | b);

    BOOST_TEST(a == 4L);
    BOOST_TEST(b == 8L);
    BOOST_TEST(c == 12L);

    <span class="keywordflow">return</span> boost::report_errors();
    }

<span class="comment">// end_of_example</span>
</pre></div></p>
<p>The following is contains an example of code that will not compile since the typesafe operators have not been defined.</p>
 <div class="fragment"><pre class="fragment"><span class="comment">// start_of_example</span>

<span class="preprocessor">#include &lt;boost/detail/lightweight_test.hpp&gt;</span>
<span class="preprocessor">#include &lt;<a class="code" href="enum__ops_8hpp.html">adobe/enum_ops.hpp</a>&gt;</span>

<span class="keyword">enum</span> Foo
    {
    foo_4 = 1 &lt;&lt; 2,
    foo_8 = 1 &lt;&lt; 3
    };

<span class="keyword">enum</span> Bar
    {
    bar_4 = 1 &lt;&lt; 2,
    bar_8 = 1 &lt;&lt; 3
    };

<span class="keyword">enum</span> Baz
    {
    baz_4 = 1 &lt;&lt; 2,
    baz_8 = 1 &lt;&lt; 3
    };

<a class="code" href="enum__ops_8hpp.html#ad74550fb40e89882fe875d27d13bf948">ADOBE_DEFINE_ARITHMETIC_OPS</a>(Baz)

<span class="comment">//ADOBE_DEFINE_ARITHMETIC_OPS is not defined for Foo and Bar </span>

int main()
    {
    Foo     a(foo_4);
    Bar     b(bar_8);
    Foo     c(a + b);   <span class="comment">// error! a and b are different enum types, so result is integral</span>

    Baz     d(baz_4);
    Baz     e(baz_8);
    Baz     f(d + e);   <span class="comment">// Ok, ADOBE_DEFINE_ARITHMETIC_OPS(Baz) is defined, so d + e has type Baz</span>

    BOOST_TEST(c);
    BOOST_TEST(f);

    <span class="keywordflow">return</span> boost::report_errors();
    }

<span class="comment">// end_of_example</span>
</pre></div> </p>
</div>

<!-- Begin Footer -->
</td></tr>
</table>
</div> <!-- content -->
<div class='footerdiv'>
    <div id='footersub'>
        <ul>
            <li><a href="http://www.adobe.com/go/gftray_foot_aboutadobe">Company</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_privacy_security">Online Privacy Policy</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_terms">Terms of Use</a>&nbsp;|&nbsp;</li>
    
            <li><a href="http://www.adobe.com/go/gftray_foot_contact_adobe">Contact Us</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_accessibility">Accessibility</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_report_piracy">Report Piracy</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_permissions_trademarks">Permissions &amp; Trademarks</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_product_license_agreements">Product License Agreements</a>&nbsp;|&nbsp;</li>
    
            <li><a href="http://www.adobe.com/go/gftray_foot_feedback">Send Feedback</a></li>
        </ul>
        <div>
            <p>Copyright &#169; 2006-2007 Adobe Systems Incorporated.</p>
            <p>Use of this website signifies your agreement to the <a href="http://www.adobe.com/go/gftray_foot_terms">Terms of Use</a> and <a href="http://www.adobe.com/go/gftray_foot_privacy_security">Online Privacy Policy</a>.</p>
            <p>Search powered by <a href="http://www.google.com/" target="new">Google</a></p>
        </div>
	</div>
</div>
<script type="text/javascript">
_uacct = "UA-396569-1";
urchinTracker();
</script>
</body>
</html>
