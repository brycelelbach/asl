<!--
    Copyright 2005-2008 Adobe Systems Incorporated
    Distributed under the MIT License (see accompanying file LICENSE_1_0_0.txt
    or a copy at http://stlab.adobe.com/licenses.html)

    Some files are held under additional license.
    Please see "http://stlab.adobe.com/licenses.html" for more information.
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
    <TITLE>Adobe Software Technology Lab: RandomAccessIterator</TITLE>
    <META HTTP-EQUIV="content-type" CONTENT="text/html;charset=ISO-8859-1"/>
    <LINK TYPE="text/css" REL="stylesheet" HREF="adobe_source.css"/>
    <LINK REL="alternate" TITLE="stlab.adobe.com RSS" HREF="http://sourceforge.net/export/rss2_projnews.php?group_id=132417&amp;rss_fulltext=1" TYPE="application/rss+xml"/>
    <script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script>
</head>
<body>
<div id='content'>
<table><tr>
<td colspan='5'>
    <div id='opensource_banner'>
    <table style='width: 100%; padding: 5px;'><tr>
    <td align='left'>
        <a href='index.html' style='border: none'><img src='stlab2007.jpg' alt="stlab.adobe.com"/></a>
    </td>
    <td align='right'>
        <a href='http://www.adobe.com' style='border: none'><img src='adobe_hlogo.gif' alt="Adobe Systems Incorporated"/></a>
    </td>
    </tr></table>
    </div>
</td></tr><tr>
<td valign="top">
    <div id='navtable' height='100%'>
    <div style='margin: 5px'>
        <h4>Documentation</h4>

        <a href="group__asl__overview.html">Overview</a><br/>
        <a href="asl_readme.html">Building ASL</a><br/>
        <a href="asl_toc.html">Documentation</a><br/>
        <a href="http://stlab.adobe.com/wiki/index.php/Supplementary_ASL_Documentation">Library Wiki Docs</a><br/>
        <a href="asl_indices.html">Indices</a><br/>
        <a href="http://stlab.adobe.com/perforce/">Browse Perforce</a><br/>

        <h4>More Info</h4>

        <a href="asl_release_notes.html">Release Notes</a><br/>
        <a href="http://stlab.adobe.com/wiki/">Wiki</a><br/>
        <a href="asl_search.html">Site Search</a><br/>
        <a href="licenses.html">License</a><br/>
        <a href="success_stories.html">Success Stories</a><br/>
        <a href="asl_contributors.html">Contributors</a><br/>

        <h4>Media</h4>

        <a href="http://sourceforge.net/project/showfiles.php?group_id=132417&amp;package_id=145420">Download</a><br/>
        <a href="asl_download_perforce.html">Perforce Depots</a><br/>

        <h4>Support</h4>

        <a href="http://sourceforge.net/projects/adobe-source/">ASL SourceForge Home</a><br/>
        <a href="http://sourceforge.net/mail/?group_id=132417">Mailing Lists</a><br/>
        <a href="http://sourceforge.net/forum/?group_id=132417">Discussion Forums</a><br/>
        <a href="http://sourceforge.net/tracker/?atid=724218&amp;group_id=132417&amp;func=browse">Report Bugs</a><br/>
        <a href="http://sourceforge.net/tracker/?atid=724221&amp;group_id=132417&amp;func=browse">Suggest Features</a><br/>
        <a href="asl_contributing.html">Contribute to ASL</a><br/>

        <h4>RSS</h4>

        <a href="http://sourceforge.net/export/rss2_projnews.php?group_id=132417">Short-text news</a><br/>
        <a href="http://sourceforge.net/export/rss2_projnews.php?group_id=132417&amp;rss_fulltext=1">Full-text news</a><br/>
        <a href="http://sourceforge.net/export/rss2_projfiles.php?group_id=132417">File releases</a><br/>

        <h4>Other Adobe Projects</h4>

        <a href="http://sourceforge.net/adobe/">Open @ Adobe</a><br/>
        <a href="http://opensource.adobe.com/">Adobe Open Source</a><br/>
        <a href="http://labs.adobe.com/">Adobe Labs</a><br/>
        <a href="http://stlab.adobe.com/amg/">Adobe Media Gallery</a><br/>
        <a href="http://stlab.adobe.com/performance/">C++ Benchmarks</a><br/>

        <h4>Other Resources</h4>

        <a href="http://boost.org">Boost</a><br/>
        <a href="http://www.riaforge.com/">RIAForge</a><br/>
        <a href="http://www.sgi.com/tech/stl">SGI STL</a><br/>
    </div>
    </div>
</td>
<td id='maintable' width="100%" valign="top">

<!-- End Header -->
<!-- Generated by Doxygen 1.7.2 -->
<div class="header">
  <div class="headertitle">
<h1>RandomAccessIterator </h1>  </div>
</div>
<div class="contents">
<table  cellpadding="0" cellspacing="0" width="100%" border="0">
<tr>
<td align="left"><div align="center">
<img src="iterators.gif" alt="iterators.gif"/>
</div>
 </td><td width="100%"></td><td align="right"><div align="center">
<img src="concept.gif" alt="concept.gif"/>
</div>
  </td></tr>
<tr>
<td align="left" valign="top"><b>Category</b>: iterators </td><td width="100%"></td><td align="right" valign="top"><b>Component type</b>: concept  </td></tr>
</table>
<h2><a class="anchor" id="Description"></a>
Description</h2>
<p>A Random Access Iterator is an iterator that provides both increment and decrement (just like a <a class="el" href="stldoc_BidirectionalIterator.html">BidirectionalIterator</a>), and that also provides constant-time methods for moving forward and backward in arbitrary-sized steps. Random Access Iterators provide essentially all of the operations of ordinary C pointer arithmetic. </p>
<h2><a class="anchor" id="Refinement_of"></a>
Refinement of</h2>
<p><a class="el" href="stldoc_BidirectionalIterator.html">BidirectionalIterator</a>, <a class="el" href="stldoc_LessThanComparable.html">LessThanComparable</a> </p>
<h2><a class="anchor" id="Associated_types"></a>
Associated types</h2>
<p>The same as for <a class="el" href="stldoc_BidirectionalIterator.html">BidirectionalIterator</a> </p>
<h2><a class="anchor" id="Notation"></a>
Notation</h2>
<table class="doxtable">
<tr>
<td valign="top"><code>X</code>  </td><td valign="top">A type that is a model of Random Access Iterator   </td></tr>
<tr>
<td valign="top"><code>T</code>  </td><td valign="top">The value type of <code>X</code>   </td></tr>
<tr>
<td valign="top"><code>Distance</code>  </td><td valign="top">The distance type of <code>X</code>   </td></tr>
<tr>
<td valign="top"><code>i</code>, <code>j</code>  </td><td valign="top">Object of type <code>X</code>   </td></tr>
<tr>
<td valign="top"><code>t</code>  </td><td valign="top">Object of type <code>T</code>   </td></tr>
<tr>
<td valign="top"><code>n</code>  </td><td valign="top">Object of type <code>Distance</code>   </td></tr>
</table>
<h2><a class="anchor" id="Definitions"></a>
Definitions</h2>
<h2><a class="anchor" id="Valid_expressions"></a>
Valid expressions</h2>
<p>In addition to the expressions defined in <a class="el" href="stldoc_BidirectionalIterator.html">BidirectionalIterator</a>, the following expressions must be valid. </p>
<table  border="1" cellpadding="3" cellspacing="3">
<tr>
<th>Name  </th><th>Expression  </th><th>Type requirements  </th><th>Return type   </th></tr>
<tr>
<td valign="top">Iterator addition  </td><td valign="top"><code>i += n</code>  </td><td valign="top">&#160;  </td><td valign="top"><code>X&amp;</code>   </td></tr>
<tr>
<td valign="top">Iterator addition  </td><td valign="top"><code>i + n</code> or <code>n + i</code>  </td><td valign="top">&#160;  </td><td valign="top"><code>X</code>   </td></tr>
<tr>
<td valign="top">Iterator subtraction  </td><td valign="top"><code>i -= n</code>  </td><td valign="top">&#160;  </td><td valign="top"><code>X&amp;</code>   </td></tr>
<tr>
<td valign="top">Iterator subtraction  </td><td valign="top"><code>i - n</code>  </td><td valign="top">&#160;  </td><td valign="top"><code>X</code>   </td></tr>
<tr>
<td valign="top">Difference  </td><td valign="top"><code>i - j</code>  </td><td valign="top">&#160;  </td><td valign="top"><code>Distance</code>   </td></tr>
<tr>
<td valign="top">Element operator  </td><td valign="top"><code>i[n]</code>  </td><td valign="top">&#160;  </td><td valign="top">Convertible to <code>T</code>   </td></tr>
<tr>
<td valign="top">Element assignment  </td><td valign="top"><code>i[n] = t</code>  </td><td valign="top"><code>X</code> is mutable  </td><td valign="top">Convertible to <code>T</code>   </td></tr>
</table>
<h2><a class="anchor" id="Expression_semantics"></a>
Expression semantics</h2>
<p>Semantics of an expression is defined only where it differs from, or is not defined in, <a class="el" href="stldoc_BidirectionalIterator.html">BidirectionalIterator</a> or <a class="el" href="stldoc_LessThanComparable.html">LessThanComparable</a>. </p>
<table  border="1" cellpadding="3" cellspacing="3">
<tr>
<th>Name  </th><th>Expression  </th><th>Precondition  </th><th>Semantics  </th><th>Postcondition   </th></tr>
<tr>
<td valign="top">Forward motion  </td><td valign="top"><code>i += n</code>  </td><td valign="top">Including <code>i</code> itself, there must be <code>n</code> dereferenceable or past-the-end iterators following or preceding <code>i</code>, depending on whether <code>n</code> is positive or negative.  </td><td valign="top">If <code>n &gt; 0</code>, equivalent to executing <code>++i</code> <code>n</code> times. If <code>n &lt; 0</code>, equivalent to executing <code>--i</code> <code>n</code> times. If <code>n == 0</code>, this is a null operation. <a href="#1">[1]</a>  </td><td valign="top"><code>i</code> is dereferenceable or past-the-end.   </td></tr>
<tr>
<td valign="top">Iterator addition  </td><td valign="top"><code>i + n</code> or <code>n + i</code>  </td><td valign="top">Same as for <code>i += n</code>  </td><td valign="top">Equivalent to <code>{ X tmp = i; return tmp += n; }</code>. The two forms <code>i + n</code> and <code>n + i</code> are identical.  </td><td valign="top">Result is dereferenceable or past-the-end   </td></tr>
<tr>
<td valign="top">Iterator subtraction  </td><td valign="top"><code>i -= n</code>  </td><td valign="top">Including <code>i</code> itself, there must be <code>n</code> dereferenceable or past-the-end iterators preceding or following <code>i</code>, depending on whether <code>n</code> is positive or negative.  </td><td valign="top">Equivalent to <code>i += (-n)</code>.  </td><td valign="top"><code>i</code> is dereferenceable or past-the-end.   </td></tr>
<tr>
<td valign="top">Iterator subtraction  </td><td valign="top"><code>i - n</code>  </td><td valign="top">Same as for <code>i -= n</code>  </td><td valign="top">Equivalent to <code>{ X tmp = i; return tmp -= n; }</code>.  </td><td valign="top">Result is dereferenceable or past-the-end   </td></tr>
<tr>
<td valign="top">Difference  </td><td valign="top"><code>i - j</code>  </td><td valign="top">Either <code>i</code> is reachable from <code>j</code> or <code>j</code> is reachable from <code>i</code>, or both.  </td><td valign="top">Returns a number <code>n</code> such that <code>i == j + n</code>  </td><td valign="top">&#160;   </td></tr>
<tr>
<td valign="top">Element operator  </td><td valign="top"><code>i[n]</code>  </td><td valign="top"><code>i + n</code> exists and is dereferenceable.  </td><td valign="top">Equivalent to <code>*(i + n)</code> <a href="#2">[2]</a>  </td><td valign="top">&#160;   </td></tr>
<tr>
<td valign="top">Element assignment  </td><td valign="top"><code>i[n] = t</code>  </td><td valign="top"><code>i + n</code> exists and is dereferenceable.  </td><td valign="top">Equivalent to <code>*(i + n) = t</code> <a href="#2">[2]</a>  </td><td valign="top"><code>i[n]</code> is a copy of <code>t</code>.   </td></tr>
<tr>
<td valign="top">Less  </td><td valign="top"><code>i &lt; j</code>  </td><td valign="top">Either <code>i</code> is reachable from <code>j</code> or <code>j</code> is reachable from <code>i</code>, or both. <a href="#3">[3]</a>  </td><td valign="top">As described in <a class="el" href="stldoc_LessThanComparable.html">LessThanComparable</a> <a href="#4">[4]</a>  </td><td valign="top">&#160;   </td></tr>
</table>
<h2><a class="anchor" id="Complexity_guarantees"></a>
Complexity guarantees</h2>
<p>All operations on Random Access Iterators are amortized constant time. <a href="#5">[5]</a> </p>
<h2><a class="anchor" id="Invariants"></a>
Invariants</h2>
<table  border="1" cellpadding="3" cellspacing="3">
<tr>
<td valign="top">Symmetry of addition and subtraction  </td><td valign="top">If <code>i + n</code> is well-defined, then <code>i += n; i -= n;</code> and <code>(i + n) - n</code> are null operations. Similarly, if <code>i - n</code> is well-defined, then <code>i -= n; i += n;</code> and <code>(i - n) + n</code> are null operations.   </td></tr>
<tr>
<td valign="top">Relation between distance and addition  </td><td valign="top">If <code>i - j</code> is well-defined, then <code>i == j + (i - j)</code>.   </td></tr>
<tr>
<td valign="top">Reachability and distance  </td><td valign="top">If <code>i</code> is reachable from <code>j</code>, then <code>i - j &gt;= 0</code>.   </td></tr>
<tr>
<td valign="top">Ordering  </td><td valign="top"><code>operator &lt;</code> is a strict weak ordering, as defined in <a class="el" href="stldoc_LessThanComparable.html">LessThanComparable</a>.   </td></tr>
</table>
<h2><a class="anchor" id="Models"></a>
Models</h2>
<ul>
<li>
<code>T*</code> </li>
<li>
<code><a class="el" href="stldoc_Vector.html">Vector</a>&lt;T&gt;iterator</code> </li>
<li>
<code><a class="el" href="stldoc_Vector.html">Vector</a>&lt;T&gt;const_iterator</code> </li>
<li>
<code><a class="el" href="stldoc_Deque.html">Deque</a>&lt;T&gt;iterator</code> </li>
<li>
<code><a class="el" href="stldoc_Deque.html">Deque</a>&lt;T&gt;const_iterator</code> </li>
</ul>
<h2><a class="anchor" id="Notes"></a>
Notes</h2>
<p><a class="anchor" id="1"></a>[1] "Equivalent to" merely means that <code>i += n</code> yields the same iterator as if <code>i</code> had been incremented (decremented) <code>n</code> times. It does not mean that this is how <code>operator+=</code> should be implemented; in fact, this is not a permissible implementation. It is guaranteed that <code>i += n</code> is amortized constant time, regardless of the magnitude of <code>n</code>. <a href="#5">[5]</a> </p>
<p><a class="anchor" id="2"></a>[2] One minor syntactic oddity: in C, if <code>p</code> is a pointer and <code>n</code> is an int, then <code>p[n]</code> and <code>n[p]</code> are equivalent. This equivalence is not guaranteed, however, for Random Access Iterators: only <code>i[n]</code> need be supported. This isn't a terribly important restriction, though, since the equivalence of <code>p[n]</code> and <code>n[p]</code> has essentially no application except for obfuscated C contests. </p>
<p><a class="anchor" id="3"></a>[3] The precondition defined in <a class="el" href="stldoc_LessThanComparable.html">LessThanComparable</a> is that <code>i</code> and <code>j</code> be in the domain of <code>operator &lt;</code>. Essentially, then, this is a definition of that domain: it is the set of pairs of iterators such that one iterator is reachable from the other. </p>
<p><a class="anchor" id="4"></a>[4] All of the other comparison operators have the same domain and are defined in terms of <code>operator &lt;</code>, so they have exactly the same semantics as described in <a class="el" href="stldoc_LessThanComparable.html">LessThanComparable</a>. </p>
<p><a class="anchor" id="5"></a>[5] This complexity guarantee is in fact the only reason why Random Access Iterator exists as a distinct concept. Every operation in iterator arithmetic can be defined for <a class="el" href="stldoc_BidirectionalIterator.html">BidirectionalIterator</a>; in fact, that is exactly what the algorithms <code><a class="el" href="stldoc_advance.html">advance</a></code> and <code><a class="el" href="stldoc_distance.html">distance</a></code> do. The distinction is simply that the <a class="el" href="stldoc_BidirectionalIterator.html">BidirectionalIterator</a> implementations are linear time, while Random Access Iterators are required to support random access to elements in amortized constant time. This has major implications for the sorts of algorithms that can sensibly be written using the two types of iterators. </p>
<h2><a class="anchor" id="See_also"></a>
See also</h2>
<p><a class="el" href="stldoc_LessThanComparable.html">LessThanComparable</a>, <a class="el" href="stldoc_trivial.html">trivial</a>, <a class="el" href="stldoc_BidirectionalIterator.html">BidirectionalIterator</a>, <a class="el" href="stldoc_Iterators.html">Iterators</a> </p>
</div>

<!-- Begin Footer -->
</td></tr>
</table>
</div> <!-- content -->
<div class='footerdiv'>
    <div id='footersub'>
        <ul>
            <li><a href="http://www.adobe.com/go/gftray_foot_aboutadobe">Company</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_privacy_security">Online Privacy Policy</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_terms">Terms of Use</a>&nbsp;|&nbsp;</li>
    
            <li><a href="http://www.adobe.com/go/gftray_foot_contact_adobe">Contact Us</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_accessibility">Accessibility</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_report_piracy">Report Piracy</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_permissions_trademarks">Permissions &amp; Trademarks</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_product_license_agreements">Product License Agreements</a>&nbsp;|&nbsp;</li>
    
            <li><a href="http://www.adobe.com/go/gftray_foot_feedback">Send Feedback</a></li>
        </ul>
        <div>
            <p>Copyright &#169; 2006-2007 Adobe Systems Incorporated.</p>
            <p>Use of this website signifies your agreement to the <a href="http://www.adobe.com/go/gftray_foot_terms">Terms of Use</a> and <a href="http://www.adobe.com/go/gftray_foot_privacy_security">Online Privacy Policy</a>.</p>
            <p>Search powered by <a href="http://www.google.com/" target="new">Google</a></p>
        </div>
	</div>
</div>
<script type="text/javascript">
_uacct = "UA-396569-1";
urchinTracker();
</script>
</body>
</html>
