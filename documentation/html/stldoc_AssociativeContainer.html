<!--
    Copyright 2005-2008 Adobe Systems Incorporated
    Distributed under the MIT License (see accompanying file LICENSE_1_0_0.txt
    or a copy at http://stlab.adobe.com/licenses.html)

    Some files are held under additional license.
    Please see "http://stlab.adobe.com/licenses.html" for more information.
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
    <TITLE>Adobe Software Technology Lab: AssociativeContainer</TITLE>
    <META HTTP-EQUIV="content-type" CONTENT="text/html;charset=ISO-8859-1"/>
    <LINK TYPE="text/css" REL="stylesheet" HREF="adobe_source.css"/>
    <LINK REL="alternate" TITLE="stlab.adobe.com RSS" HREF="http://sourceforge.net/export/rss2_projnews.php?group_id=132417&amp;rss_fulltext=1" TYPE="application/rss+xml"/>
    <script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script>
</head>
<body>
<div id='content'>
<table><tr>
<td colspan='5'>
    <div id='opensource_banner'>
    <table style='width: 100%; padding: 5px;'><tr>
    <td align='left'>
        <a href='index.html' style='border: none'><img src='stlab2007.jpg' alt="stlab.adobe.com"/></a>
    </td>
    <td align='right'>
        <a href='http://www.adobe.com' style='border: none'><img src='adobe_hlogo.gif' alt="Adobe Systems Incorporated"/></a>
    </td>
    </tr></table>
    </div>
</td></tr><tr>
<td valign="top">
    <div id='navtable' height='100%'>
    <div style='margin: 5px'>
        <h4>Documentation</h4>

        <a href="group__asl__overview.html">Overview</a><br/>
        <a href="asl_readme.html">Building ASL</a><br/>
        <a href="asl_toc.html">Documentation</a><br/>
        <a href="http://stlab.adobe.com/wiki/index.php/Supplementary_ASL_Documentation">Library Wiki Docs</a><br/>
        <a href="asl_indices.html">Indices</a><br/>
        <a href="http://stlab.adobe.com/perforce/">Browse Perforce</a><br/>

        <h4>More Info</h4>

        <a href="asl_release_notes.html">Release Notes</a><br/>
        <a href="http://stlab.adobe.com/wiki/">Wiki</a><br/>
        <a href="asl_search.html">Site Search</a><br/>
        <a href="licenses.html">License</a><br/>
        <a href="success_stories.html">Success Stories</a><br/>
        <a href="asl_contributors.html">Contributors</a><br/>

        <h4>Media</h4>

        <a href="http://sourceforge.net/project/showfiles.php?group_id=132417&amp;package_id=145420">Download</a><br/>
        <a href="asl_download_perforce.html">Perforce Depots</a><br/>

        <h4>Support</h4>

        <a href="http://sourceforge.net/projects/adobe-source/">ASL SourceForge Home</a><br/>
        <a href="http://sourceforge.net/mail/?group_id=132417">Mailing Lists</a><br/>
        <a href="http://sourceforge.net/forum/?group_id=132417">Discussion Forums</a><br/>
        <a href="http://sourceforge.net/tracker/?atid=724218&amp;group_id=132417&amp;func=browse">Report Bugs</a><br/>
        <a href="http://sourceforge.net/tracker/?atid=724221&amp;group_id=132417&amp;func=browse">Suggest Features</a><br/>
        <a href="asl_contributing.html">Contribute to ASL</a><br/>

        <h4>RSS</h4>

        <a href="http://sourceforge.net/export/rss2_projnews.php?group_id=132417">Short-text news</a><br/>
        <a href="http://sourceforge.net/export/rss2_projnews.php?group_id=132417&amp;rss_fulltext=1">Full-text news</a><br/>
        <a href="http://sourceforge.net/export/rss2_projfiles.php?group_id=132417">File releases</a><br/>

        <h4>Other Adobe Projects</h4>

        <a href="http://sourceforge.net/adobe/">Open @ Adobe</a><br/>
        <a href="http://opensource.adobe.com/">Adobe Open Source</a><br/>
        <a href="http://labs.adobe.com/">Adobe Labs</a><br/>
        <a href="http://stlab.adobe.com/amg/">Adobe Media Gallery</a><br/>
        <a href="http://stlab.adobe.com/performance/">C++ Benchmarks</a><br/>

        <h4>Other Resources</h4>

        <a href="http://boost.org">Boost</a><br/>
        <a href="http://www.riaforge.com/">RIAForge</a><br/>
        <a href="http://www.sgi.com/tech/stl">SGI STL</a><br/>
    </div>
    </div>
</td>
<td id='maintable' width="100%" valign="top">

<!-- End Header -->
<!-- Generated by Doxygen 1.7.2 -->
<div class="header">
  <div class="headertitle">
<h1>AssociativeContainer </h1>  </div>
</div>
<div class="contents">
<table  cellpadding="0" cellspacing="0" width="100%" border="0">
<tr>
<td align="left"><div align="center">
<img src="containers.gif" alt="containers.gif"/>
</div>
 </td><td width="100%"></td><td align="right"><div align="center">
<img src="concept.gif" alt="concept.gif"/>
</div>
  </td></tr>
<tr>
<td align="left" valign="top"><b>Category</b> : containers </td><td width="100%"></td><td align="right" valign="top"><b>Component type</b>: concept  </td></tr>
</table>
<h2><a class="anchor" id="Description"></a>
Description</h2>
<p>An Associative Container is a variable-sized <a class="el" href="stldoc_Container.html">Container</a> that supports efficient retrieval of elements (values) based on keys. It supports insertion and removal of elements, but differs from a <a class="el" href="stldoc_Sequence.html">Sequence</a> in that it does not provide a mechanism for inserting an element at a specific position. <a href="#1">[1]</a> </p>
<p>As with all containers, the elements in an Associative Container are of type <code>value_type</code>. Additionally, each element in an Associative Container has a <em>key</em>, of type <code>key_type</code>. In some Associative Containers, <a class="el" href="stldoc_SimpleAssociativeContainer.html">SimpleAssociativeContainer</a>, the <code>value_type</code> and <code>key_type</code> are the same : elements are their own keys. In others, the key is some specific part of the value. Since elements are stored according to their keys, it is essential that the key associated with each element is immutable. In <a class="el" href="stldoc_SimpleAssociativeContainer.html">SimpleAssociativeContainer</a> this means that the elements themselves are immutable, while in other types of Associative Containers, such as <a class="el" href="stldoc_PairAssociativeContainer.html">PairAssociativeContainer</a>, the elements themselves are mutable but the part of an element that is its key cannot be modified. This means that an Associative Container's value type is not <a class="el" href="stldoc_Assignable.html">Assignable</a>. </p>
<p>The fact that the value type of an Associative Container is not <a class="el" href="stldoc_Assignable.html">Assignable</a> has an important consequence : associative containers cannot have mutable iterators. This is simply because a mutable iterator (as defined in the <a class="el" href="stldoc_trivial.html">trivial</a> requirements) must allow assignment. That is, if <code>i</code> is a mutable iterator and <code>t</code> is an object of <code>i</code>'s value type, then <code>*i = t</code> must be a valid expression. </p>
<p>In <a class="el" href="stldoc_SimpleAssociativeContainer.html">SimpleAssociativeContainer</a>, where the elements are the keys, the elements are completely immutable; the nested types <code>iterator</code> and <code>const_iterator</code> are therefore the same. Other types of associative containers, however, do have mutable elements, and do provide iterators through which elements can be modified. <a class="el" href="stldoc_PairAssociativeContainer.html">PairAssociativeContainer</a>, for example, have two different nested types <code>iterator</code> and <code>const_iterator</code>. Even in this case, <code>iterator</code> is not a mutable iterator : as explained above, it does not provide the expression <code>*i = t</code>. It is, however, possible to modify an element through such an iterator: if, for example, <code>i</code> is of type <code><a class="el" href="stldoc_Map.html">Map</a>&lt;int, double&gt;</code>, then <code>(*i).second = 3</code> is a valid expression. </p>
<p>In some associative containers, <a class="el" href="stldoc_UniqueAssociativeContainer.html">UniqueAssociativeContainer</a>, it is guaranteed that no two elements have the same key. <a href="#2">[2]</a> In other associative containers, <a class="el" href="stldoc_MultipleAssociativeContainer.html">MultipleAssociativeContainer</a>, multiple elements with the same key are permitted. </p>
<h2><a class="anchor" id="Refinement_of"></a>
Refinement of</h2>
<p><a class="el" href="stldoc_ForwardContainer.html">ForwardContainer</a>, <a class="el" href="stldoc_DefaultConstructible.html">DefaultConstructible</a> </p>
<h2><a class="anchor" id="Associated_types"></a>
Associated types</h2>
<p>One new type is introduced, in addition to the types defined in the <a class="el" href="stldoc_ForwardContainer.html">ForwardContainer</a> requirements. </p>
<table  border="1" cellpadding="3" cellspacing="3">
<tr>
<td valign="top">Key type  </td><td valign="top"><code>X key_type</code>  </td><td valign="top">The type of the key associated with <code>X::value_type</code>. Note that the key type and value type might be the same.   </td></tr>
</table>
<h2><a class="anchor" id="Notation"></a>
Notation</h2>
<table class="doxtable">
<tr>
<td valign="top"><code>X</code>  </td><td valign="top">A type that is a model of Associative Container   </td></tr>
<tr>
<td valign="top"><code>a</code>  </td><td valign="top">Object of type <code>X</code>   </td></tr>
<tr>
<td valign="top"><code>t</code>  </td><td valign="top">Object of type <code>X::value_type</code>   </td></tr>
<tr>
<td valign="top"><code>k</code>  </td><td valign="top">Object of type <code>X::key_type</code>   </td></tr>
<tr>
<td valign="top"><code>p</code>, <code>q</code>  </td><td valign="top">Object of type <code>X::iterator</code>   </td></tr>
</table>
<h2><a class="anchor" id="Definitions"></a>
Definitions</h2>
<p>If <code>a</code> is an associative container, then <code>p</code> is a <em>valid iterator in a</em> if it is a valid iterator that is reachable from <code>a.begin()</code>. </p>
<p>If <code>a</code> is an associative container, then <code>[p, q)</code> is a <em>valid range in a</em> if <code>[p, q)</code> is a valid range and <code>p</code> is a valid iterator in <code>a</code>. </p>
<h2><a class="anchor" id="Valid_expressions"></a>
Valid expressions</h2>
<p>In addition to the expressions defined in <a class="el" href="stldoc_ForwardContainer.html">ForwardContainer</a>, the following expressions must be valid. </p>
<table  border="1" cellpadding="3" cellspacing="3">
<tr>
<th>Name  </th><th>Expression  </th><th>Type requirements  </th><th>Return type   </th></tr>
<tr>
<td valign="top">Default constructor  </td><td valign="top"><div class="fragment"><pre class="fragment">X()
X a;
</pre></div>  </td><td valign="top">&#160;  </td><td valign="top">&#160;   </td></tr>
<tr>
<td valign="top">Erase key  </td><td valign="top"><code>a.erase(k)</code>  </td><td valign="top">&#160;  </td><td valign="top"><code>size_type</code>   </td></tr>
<tr>
<td valign="top">Erase element  </td><td valign="top"><code>a.erase(p)</code>  </td><td valign="top">&#160;  </td><td valign="top"><code>void</code>   </td></tr>
<tr>
<td valign="top">Erase range  </td><td valign="top"><code>a.erase(p, q)</code>  </td><td valign="top">&#160;  </td><td valign="top"><code>void</code>   </td></tr>
<tr>
<td valign="top">Clear  </td><td valign="top"><code>a.clear()</code>  </td><td valign="top">&#160;  </td><td valign="top"><code>void</code>   </td></tr>
<tr>
<td valign="top">Find  </td><td valign="top"><code>a.find(k)</code>  </td><td valign="top">&#160;  </td><td valign="top"><code>iterator</code> if <code>a</code> is mutable, otherwise <code>const_iterator</code>   </td></tr>
<tr>
<td valign="top">Count  </td><td valign="top"><code>a.count(k)</code>  </td><td valign="top">&#160;  </td><td valign="top"><code>size_type</code>   </td></tr>
<tr>
<td valign="top">Equal range  </td><td valign="top"><code>a.equal_range(k)</code>  </td><td valign="top">&#160;  </td><td valign="top"><code>pair&lt;iterator, iterator&gt;</code> if <code>a</code> is mutable, otherwise <code>pair&lt;const_iterator, const_iterator&gt;</code>.   </td></tr>
</table>
<h2><a class="anchor" id="Expression_semantics"></a>
Expression semantics</h2>
<table  border="1" cellpadding="3" cellspacing="3">
<tr>
<th>Name  </th><th>Expression  </th><th>Precondition  </th><th>Semantics  </th><th>Postcondition   </th></tr>
<tr>
<td valign="top">Default constructor  </td><td valign="top"><div class="fragment"><pre class="fragment">X()
X a;
</pre></div>  </td><td valign="top">&#160;  </td><td valign="top">Creates an empty container.  </td><td valign="top">The size of the container is <code>0</code>.   </td></tr>
<tr>
<td valign="top">Erase key  </td><td valign="top"><code>a.erase(k)</code>  </td><td valign="top">&#160;  </td><td valign="top">Destroys all elements whose key is the same as <code>k</code>, and removes them from <code>a</code>. <a href="#2">[2]</a> The return value is the number of elements that were erased, <em>i.e.</em> the old value of <code>a.count(k)</code>.  </td><td valign="top"><code>a.size()</code> is decremented by <code>a.count(k)</code>. <code>a</code> contains no elements with key <code>k</code>.   </td></tr>
<tr>
<td valign="top">Erase element  </td><td valign="top"><code>a.erase(p)</code>  </td><td valign="top"><code>p</code> is a dereferenceable iterator in <code>a</code>.  </td><td valign="top">Destroys the element pointed to by <code>p</code>, and removes it from <code>a</code>.  </td><td valign="top"><code>a.size()</code> is decremented by 1.   </td></tr>
<tr>
<td valign="top">Erase range  </td><td valign="top"><code>a.erase(p, q)</code>  </td><td valign="top"><code>[p, q)</code> is a valid range in <code>a</code>.  </td><td valign="top">Destroys the elements in the range <code>[p,q)</code> and removes them from <code>a</code>.  </td><td valign="top"><code>a.size()</code> is decremented by the distance from <code>i</code> to <code>j</code>.   </td></tr>
<tr>
<td valign="top">Clear  </td><td valign="top"><code>a.clear()</code>  </td><td valign="top">&#160;  </td><td valign="top">Equivalent to <code>a.erase(a.begin(), a.end())</code>  </td><td valign="top">&#160;   </td></tr>
<tr>
<td valign="top">Find  </td><td valign="top"><code>a.find(k)</code>  </td><td valign="top">&#160;  </td><td valign="top">Returns an iterator pointing to an element whose key is the same as <code>k</code>, or <code>a.end()</code> if no such element exists.  </td><td valign="top">Either the return value is <code>a.end()</code>, or else the return value has a key that is the same as <code>k</code>.   </td></tr>
<tr>
<td valign="top">Count  </td><td valign="top"><code>a.count(k)</code>  </td><td valign="top">&#160;  </td><td valign="top">Returns the number of elements in <code>a</code> whose keys are the same as <code>k</code>.  </td><td valign="top">&#160;   </td></tr>
<tr>
<td valign="top">Equal range  </td><td valign="top"><code>a.equal_range(k)</code>  </td><td valign="top">&#160;  </td><td valign="top">Returns a pair <code>P</code> such that <code>[P.first, P.second)</code> is a range containing all elements in <code>a</code> whose keys are the same as <code>k</code>. <a href="#3">[3]</a> If no elements have the same key as <code>k</code>, the return value is an empty range.  </td><td valign="top">The distance between <code>P.first</code> and <code>P.second</code> is equal to <code>a.count(k)</code>. If <code>p</code> is a dereferenceable iterator in <code>a</code>, then either <code>p</code> lies in the range <code>[P.first, P.second)</code>, or else <code>*p</code> has a key that is not the same as <code>k</code>.   </td></tr>
</table>
<h2><a class="anchor" id="Complexity_guarantees"></a>
Complexity guarantees</h2>
<p>Average complexity for erase key is at most <code>O(log(<a class="el" href="group__selection__algorithms.html#ga7c5bdb55e42beda2cd6acbe643ef4fa2">size()</a>) + count(k))</code>. </p>
<p>Average complexity for erase element is constant time. </p>
<p>Average complexity for erase range is at most <code>O(log(<a class="el" href="group__selection__algorithms.html#ga7c5bdb55e42beda2cd6acbe643ef4fa2">size()</a>) + N)</code>, where <code>N</code> is the number of elements in the range. </p>
<p>Average complexity for count is at most <code>O(log(<a class="el" href="group__selection__algorithms.html#ga7c5bdb55e42beda2cd6acbe643ef4fa2">size()</a>) + count(k))</code>. </p>
<p>Average complexity for find is at most logarithmic. </p>
<p>Average complexity for equal range is at most logarithmic. </p>
<h2><a class="anchor" id="Invariants"></a>
Invariants</h2>
<table  border="1" cellpadding="3" cellspacing="3">
<tr>
<td valign="top">Contiguous storage  </td><td valign="top">All elements with the same key are adjacent to each other. That is, if <code>p</code> and <code>q</code> are iterators that point to elements that have the same key, and if <code>p</code> precedes <code>q</code>, then every element in the range <code>[p, q)</code> has the same key as every other element.   </td></tr>
<tr>
<td valign="top">Immutability of keys  </td><td valign="top">Every element of an Associative Container has an immutable key. Objects may be inserted and erased, but an element in an Associative Container may not be modified in such a way as to change its key.   </td></tr>
</table>
<h2><a class="anchor" id="Models"></a>
Models</h2>
<ul>
<li>
<code><a class="el" href="stldoc_set.html">set</a></code> </li>
<li>
<code><a class="el" href="stldoc_multiset.html">multiset</a></code> </li>
<li>
<code><a class="el" href="stldoc_hash_set.html">hash_set</a></code> </li>
<li>
<code><a class="el" href="stldoc_hash_multiset.html">hash_multiset</a></code> </li>
<li>
<code><a class="el" href="stldoc_Map.html">Map</a></code> </li>
<li>
<code><a class="el" href="stldoc_Multimap.html">Multimap</a></code> </li>
<li>
<code><a class="el" href="stldoc_hash_map.html">hash_map</a></code> </li>
<li>
<code><a class="el" href="stldoc_hash_multimap.html">hash_multimap</a></code> </li>
</ul>
<h2><a class="anchor" id="Notes"></a>
Notes</h2>
<p><a class="anchor" id="1"></a>[1] The reason there is no such mechanism is that the way in which elements are arranged in an associative container is typically a class invariant; elements in a <a class="el" href="stldoc_SortedAssociativeContainer.html">SortedAssociativeContainer</a>, for example, are always stored in ascending order, and elements in a <a class="el" href="stldoc_HashedAssociativeContainer.html">HashedAssociativeContainer</a> are always stored according to the hash function. It would make no sense to allow the position of an element to be chosen arbitrarily. </p>
<p><a class="anchor" id="2"></a>[2] Keys are not required to be <a class="el" href="stldoc_EqualityComparable.html">EqualityComparable</a> : associative containers do not necessarily use <code>operator==</code> to determine whether two keys are the same. In <a class="el" href="stldoc_SortedAssociativeContainer.html">SortedAssociativeContainer</a>, for example, where keys are ordered by a comparison function, two keys are considered to be the same if neither one is less than the other. </p>
<p><a class="anchor" id="3"></a>[3] Note the implications of this member function : it means that if two elements have the same key, there must be no elements with different keys in between them. The requirement that elements with the same key be stored contiguously is an associative container invariant. </p>
<h2><a class="anchor" id="See_also"></a>
See also</h2>
<p><a class="el" href="stldoc_SimpleAssociativeContainer.html">SimpleAssociativeContainer</a>, <a class="el" href="stldoc_PairAssociativeContainer.html">PairAssociativeContainer</a>, <a class="el" href="stldoc_UniqueAssociativeContainer.html">UniqueAssociativeContainer</a>, <a class="el" href="stldoc_MultipleAssociativeContainer.html">MultipleAssociativeContainer</a>, <a class="el" href="stldoc_SortedAssociativeContainer.html">SortedAssociativeContainer</a>, <a class="el" href="stldoc_UniqueSortedAssociativeContainer.html">UniqueSortedAssociativeContainer</a>, <a class="el" href="stldoc_MultipleSortedAssociativeContainer.html">MultipleSortedAssociativeContainer</a>, <a class="el" href="stldoc_HashedAssociativeContainer.html">HashedAssociativeContainer</a>, <a class="el" href="stldoc_UniqueHashedAssociativeContainer.html">UniqueHashedAssociativeContainer</a>, <a class="el" href="stldoc_MultipleHashedAssociativeContainer.html">MultipleHashedAssociativeContainer</a>. </p>
</div>

<!-- Begin Footer -->
</td></tr>
</table>
</div> <!-- content -->
<div class='footerdiv'>
    <div id='footersub'>
        <ul>
            <li><a href="http://www.adobe.com/go/gftray_foot_aboutadobe">Company</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_privacy_security">Online Privacy Policy</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_terms">Terms of Use</a>&nbsp;|&nbsp;</li>
    
            <li><a href="http://www.adobe.com/go/gftray_foot_contact_adobe">Contact Us</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_accessibility">Accessibility</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_report_piracy">Report Piracy</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_permissions_trademarks">Permissions &amp; Trademarks</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_product_license_agreements">Product License Agreements</a>&nbsp;|&nbsp;</li>
    
            <li><a href="http://www.adobe.com/go/gftray_foot_feedback">Send Feedback</a></li>
        </ul>
        <div>
            <p>Copyright &#169; 2006-2007 Adobe Systems Incorporated.</p>
            <p>Use of this website signifies your agreement to the <a href="http://www.adobe.com/go/gftray_foot_terms">Terms of Use</a> and <a href="http://www.adobe.com/go/gftray_foot_privacy_security">Online Privacy Policy</a>.</p>
            <p>Search powered by <a href="http://www.google.com/" target="new">Google</a></p>
        </div>
	</div>
</div>
<script type="text/javascript">
_uacct = "UA-396569-1";
urchinTracker();
</script>
</body>
</html>
