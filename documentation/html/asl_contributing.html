<!--
    Copyright 2005-2008 Adobe Systems Incorporated
    Distributed under the MIT License (see accompanying file LICENSE_1_0_0.txt
    or a copy at http://stlab.adobe.com/licenses.html)

    Some files are held under additional license.
    Please see "http://stlab.adobe.com/licenses.html" for more information.
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
    <TITLE>Adobe Software Technology Lab: Contributing to ASL</TITLE>
    <META HTTP-EQUIV="content-type" CONTENT="text/html;charset=ISO-8859-1"/>
    <LINK TYPE="text/css" REL="stylesheet" HREF="adobe_source.css"/>
    <LINK REL="alternate" TITLE="stlab.adobe.com RSS" HREF="http://sourceforge.net/export/rss2_projnews.php?group_id=132417&amp;rss_fulltext=1" TYPE="application/rss+xml"/>
    <script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script>
</head>
<body>
<div id='content'>
<table><tr>
<td colspan='5'>
    <div id='opensource_banner'>
    <table style='width: 100%; padding: 5px;'><tr>
    <td align='left'>
        <a href='index.html' style='border: none'><img src='stlab2007.jpg' alt="stlab.adobe.com"/></a>
    </td>
    <td align='right'>
        <a href='http://www.adobe.com' style='border: none'><img src='adobe_hlogo.gif' alt="Adobe Systems Incorporated"/></a>
    </td>
    </tr></table>
    </div>
</td></tr><tr>
<td valign="top">
    <div id='navtable' height='100%'>
    <div style='margin: 5px'>
        <h4>Documentation</h4>

        <a href="group__asl__overview.html">Overview</a><br/>
        <a href="asl_readme.html">Building ASL</a><br/>
        <a href="asl_toc.html">Documentation</a><br/>
        <a href="http://stlab.adobe.com/wiki/index.php/Supplementary_ASL_Documentation">Library Wiki Docs</a><br/>
        <a href="asl_indices.html">Indices</a><br/>
        <a href="http://stlab.adobe.com/perforce/">Browse Perforce</a><br/>

        <h4>More Info</h4>

        <a href="asl_release_notes.html">Release Notes</a><br/>
        <a href="http://stlab.adobe.com/wiki/">Wiki</a><br/>
        <a href="asl_search.html">Site Search</a><br/>
        <a href="licenses.html">License</a><br/>
        <a href="success_stories.html">Success Stories</a><br/>
        <a href="asl_contributors.html">Contributors</a><br/>

        <h4>Media</h4>

        <a href="http://sourceforge.net/project/showfiles.php?group_id=132417&amp;package_id=145420">Download</a><br/>
        <a href="asl_download_perforce.html">Perforce Depots</a><br/>

        <h4>Support</h4>

        <a href="http://sourceforge.net/projects/adobe-source/">ASL SourceForge Home</a><br/>
        <a href="http://sourceforge.net/mail/?group_id=132417">Mailing Lists</a><br/>
        <a href="http://sourceforge.net/forum/?group_id=132417">Discussion Forums</a><br/>
        <a href="http://sourceforge.net/tracker/?atid=724218&amp;group_id=132417&amp;func=browse">Report Bugs</a><br/>
        <a href="http://sourceforge.net/tracker/?atid=724221&amp;group_id=132417&amp;func=browse">Suggest Features</a><br/>
        <a href="asl_contributing.html">Contribute to ASL</a><br/>

        <h4>RSS</h4>

        <a href="http://sourceforge.net/export/rss2_projnews.php?group_id=132417">Short-text news</a><br/>
        <a href="http://sourceforge.net/export/rss2_projnews.php?group_id=132417&amp;rss_fulltext=1">Full-text news</a><br/>
        <a href="http://sourceforge.net/export/rss2_projfiles.php?group_id=132417">File releases</a><br/>

        <h4>Other Adobe Projects</h4>

        <a href="http://sourceforge.net/adobe/">Open @ Adobe</a><br/>
        <a href="http://opensource.adobe.com/">Adobe Open Source</a><br/>
        <a href="http://labs.adobe.com/">Adobe Labs</a><br/>
        <a href="http://stlab.adobe.com/amg/">Adobe Media Gallery</a><br/>
        <a href="http://stlab.adobe.com/performance/">C++ Benchmarks</a><br/>

        <h4>Other Resources</h4>

        <a href="http://boost.org">Boost</a><br/>
        <a href="http://www.riaforge.com/">RIAForge</a><br/>
        <a href="http://www.sgi.com/tech/stl">SGI STL</a><br/>
    </div>
    </div>
</td>
<td id='maintable' width="100%" valign="top">

<!-- End Header -->
<!-- Generated by Doxygen 1.7.2 -->
<div class="header">
  <div class="headertitle">
<h1>Contributing to ASL </h1>  </div>
</div>
<div class="contents">
<h2><a class="anchor" id="asl_contrib_overview"></a>
Overview</h2>
<dl class="user"><dt><b></b></dt><dd>We are very excited to allow other developers the opportunity to work on the Adobe Source Libraries with us. Here we will discuss the general guidelines we will use to manage the development and release of the Adobe Source Libraries.</dd></dl>
<dl class="user"><dt><b></b></dt><dd>This process is in place to acccomplish the following goals:<ul>
<li>That no malicious, illegal, or third-party code will be submitted to mission-critical code in the depots.</li>
<li>That more than one ASL developer has a chance to look at the design of code being submitted to ASL.</li>
<li>That there is always a stable, working copy of the most current code in the code repository.</li>
</ul>
</dd></dl>
<h2><a class="anchor" id="asl_contrib_license_guidelines"></a>
License Guidelines</h2>
<dl class="user"><dt><b></b></dt><dd>All code contributions must be under the MIT license and copyright of the Adobe opensource project. By contributing code you agree that we can distribute the contribution under the terms of the MIT license, that it can be distributed without any royalties, copyright, trademark, patent or other legal lock ups. Open source means no discrimination against any group or individual that may wish to use the code.</dd></dl>
<dl class="user"><dt><b></b></dt><dd>The following boilerplate licensing information must be the first lines of any source file(s) submitted to stlab.adobe.com (where {year} is substituted with the appropriate value, and is the only value that can be altered in the boilerplate):</dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="fragment"><pre class="fragment">
/*
    Copyright {year} Adobe Systems Incorporated
    Distributed under the MIT License (see accompanying file LICENSE_1_0_0.txt
    or a copy at http://stlab.adobe.com/licenses.html)
*/

/*************************************************************************************************/
</pre></div></dd></dl>
<h2><a class="anchor" id="asl_contrib_submit_guidelines"></a>
Submission Guidelines</h2>
<dl class="user"><dt><b></b></dt><dd>The fundamental philosophy by which we will manage development and contributions to the ASL is by a sandbox-review method.</dd></dl>
<h3><a class="anchor" id="asl_contrib_submit_release"></a>
The release Depot</h3>
<dl class="user"><dt><b></b></dt><dd>The <code>release</code> depot is the official source release of the Adobe Source Libraries. It is updated every release cycle by one of Adobe's <code>stlab.adobe.com</code> developers.</dd></dl>
<h3><a class="anchor" id="asl_contrib_submit_submission"></a>
The submission Depot</h3>
<dl class="user"><dt><b></b></dt><dd>The <code>submission</code> depot is the current, stable, working release depot. Changes are committed to this depot by an authorized ASL developer pending a review (see below).</dd></dl>
<h3><a class="anchor" id="asl_contrib_submit_sandbox"></a>
The sandbox Depot</h3>
<dl class="user"><dt><b></b></dt><dd>The <code>sandbox</code> depot is the main location for hacking. Branches should be made into this depot from <code>submission</code> to allow for developers to code against the current (stable) development state. Developers are encouraged to collaborate with other developers on code and branching of the sandboxes is also acceptable. All branches should reside in the sandbox depot under a top-level user directory.</dd></dl>
<h3><a class="anchor" id="asl_contrib_submit_review"></a>
The Review Process</h3>
<dl class="user"><dt><b></b></dt><dd>All developers need to work out of sandboxes created by branching <code>submission</code> into the <code>sandbox</code> depot.</dd></dl>
<dl class="user"><dt><b></b></dt><dd>Creating a new branch under the <code>sandbox</code> depot for multiple-developer work is fine, but it should still reside inside a user's folder to avoid too many folders at the top level.</dd></dl>
<dl class="user"><dt><b></b></dt><dd>When you are ready to have code reviewed, please post a description of what you have done to <code>adobe-source-devel at lists dot sourceforge dot net</code> list with a review request. An approved review developer will contact you when reviewers are ready and it is ok to go ahead and overwrite the <code>review</code> depot with your working sources.</dd></dl>
<dl class="user"><dt><b></b></dt><dd>An approved ASL review developer then engages in a review process with the developer(s) over the contents of the <code>review</code> depot. The review may or may not succeed, or may succeed pending requested changes that must be made back in the sandbox.</dd></dl>
<dl class="user"><dt><b></b></dt><dd>When a chunk of code passes review, the approved ASL review developer will integrate the <code>review</code> depot into <code>submission</code>.</dd></dl>
<h2><a class="anchor" id="asl_contrib_policies"></a>
Other Enforced Policies</h2>
<dl class="user"><dt><b></b></dt><dd>Code formatting is a highly-debated issue between programmers. Adobe is no stranger to many seasoned developers having widely differing formatting styles and preferences. Please try to keep the format of submitted code in line with the rest of the project. We request code submissions to have as close to the same format as what is already present in the code base. Granted, there are inconsistencies in the code base already- we are trying to keep it to a minimum going forward.</dd></dl>
<dl class="user"><dt><b></b></dt><dd>All new code submitted to ASL should have a compiling, linking and successfully executable test in the <code>//{depot}/adobe/test/</code> directory.</dd></dl>
<dl class="user"><dt><b></b></dt><dd>All source files (code and documentation) should be named only with lowercase, 7-bit ASCII alphanumeric characters and the underscore ('_') character (<code>[0-9a-z_]</code>). This is to ensure maximum cross-platform, cross-locale compatibility.</dd></dl>
<dl class="user"><dt><b></b></dt><dd>For legal reasons, no third-party code is allowed in any <code>stlab.adobe.com</code> depot. Examples of this might be the Boost or Lua library sources. Only code intended for submission to the Adobe Source Libraries is permitted.</dd></dl>
<h2><a class="anchor" id="asl_contrib_example"></a>
Example Client Setup</h2>
<h3><a class="anchor" id="asl_contrib_example_clientspec"></a>
Client Mapping Specification (clientspec)</h3>
<dl class="user"><dt><b></b></dt><dd>The following might be an example of a developer's client specification set up by executing <code>p4 client</code> on the developer's machine. Note that one must first have a development account on the <code>stlab.adobe.com:10666</code> Perforce depot.</dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="fragment"><pre class="fragment">
# A Perforce Client Specification.

Client:	fbrereto

Owner:	fbrereto

Description:
	This is the client specification for Foster Brereton's primary development machine.

Root:	/Users/fbrereto/opensource/

Options:	noallwrite noclobber compress unlocked nomodtime normdir

LineEnd:	local

View:
	//release/... //fbrereto/release/...
	//review/... //fbrereto/review/...
	//sandbox/fbrereto/... //fbrereto/sandbox/fbrereto/...
	//submission/... //fbrereto/submission/...
</pre></div></dd></dl>
<dl class="user"><dt><b></b></dt><dd>Note in the above that the 'compress' flag is set. This will generally speed up transactions between your computer and the <code>stlab.adobe.com</code> Perforce depot.</dd></dl>
<h3><a class="anchor" id="asl_contrib_example_branchspec"></a>
Sandbox Branch Specification (branchspec)</h3>
<dl class="user"><dt><b></b></dt><dd>A branchspec is used to map the <code>submission</code> depot to your personal working sandbox. You create a branchspec with the <code>p4 branch {name}_sandbox</code> command, where {name} is your account name on the stlab.adobe.com Perforce server.</dd></dl>
<dl class="user"><dt><b></b></dt><dd>Updates made to the <code>submission</code> depot can then be integrated with the <code>p4 integrate -1 -d -i -t -b {name}_sandbox</code> command (followed by a <code>p4 resolve</code> to merge potential conflicts).</dd></dl>
<dl class="user"><dt><b></b></dt><dd>Integrating your sandbox to the <code>review</code> depot is as simple as executing <code>p4 integrate //sandbox/{name}/sandbox... //review/...</code>. Note that you should purge the contents of the <code>review</code> with a <code>p4 delete //review/...</code> first (once you are OK'd to do so by the ASL review developer).</dd></dl>
<dl class="user"><dt><b></b></dt><dd>Below is a sample branchspec to map submission to a user's sandbox. Note that the map goes to a <code>sandbox</code> directory within the user's directory to allow for other directories in the sandbox (including other sandboxes):</dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="fragment"><pre class="fragment">
# A Perforce Branch Specification.

Branch:	fbrereto_sandbox

Owner:	fbrereto

Description:
	Maps submission to Foster Brereton's working sandbox.

Options:	locked

View:
	//submission/... //sandbox/fbrereto/sandbox/...
</pre></div></dd></dl>
<dl class="user"><dt><b></b></dt><dd>Note in the above that the 'locked' flag is set.</dd></dl>
<h2><a class="anchor" id="asl_contrib_conclusion"></a>
Conclusion</h2>
<dl class="user"><dt><b></b></dt><dd>Hopefully this results in an environment in which people are comfortable working, ultimately resulting in the best code we can produce as a community. Please let us know if you have any questions or comments- we would love to hear them. Thank you again for the interest you have expressed in the Adobe Source Libraries and the contributions you have made thus far! </dd></dl>
</div>

<!-- Begin Footer -->
</td></tr>
</table>
</div> <!-- content -->
<div class='footerdiv'>
    <div id='footersub'>
        <ul>
            <li><a href="http://www.adobe.com/go/gftray_foot_aboutadobe">Company</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_privacy_security">Online Privacy Policy</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_terms">Terms of Use</a>&nbsp;|&nbsp;</li>
    
            <li><a href="http://www.adobe.com/go/gftray_foot_contact_adobe">Contact Us</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_accessibility">Accessibility</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_report_piracy">Report Piracy</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_permissions_trademarks">Permissions &amp; Trademarks</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_product_license_agreements">Product License Agreements</a>&nbsp;|&nbsp;</li>
    
            <li><a href="http://www.adobe.com/go/gftray_foot_feedback">Send Feedback</a></li>
        </ul>
        <div>
            <p>Copyright &#169; 2006-2007 Adobe Systems Incorporated.</p>
            <p>Use of this website signifies your agreement to the <a href="http://www.adobe.com/go/gftray_foot_terms">Terms of Use</a> and <a href="http://www.adobe.com/go/gftray_foot_privacy_security">Online Privacy Policy</a>.</p>
            <p>Search powered by <a href="http://www.google.com/" target="new">Google</a></p>
        </div>
	</div>
</div>
<script type="text/javascript">
_uacct = "UA-396569-1";
urchinTracker();
</script>
</body>
</html>
