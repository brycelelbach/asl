<!--
    Copyright 2005-2008 Adobe Systems Incorporated
    Distributed under the MIT License (see accompanying file LICENSE_1_0_0.txt
    or a copy at http://stlab.adobe.com/licenses.html)

    Some files are held under additional license.
    Please see "http://stlab.adobe.com/licenses.html" for more information.
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
    <TITLE>Adobe Software Technology Lab: stable_sort</TITLE>
    <META HTTP-EQUIV="content-type" CONTENT="text/html;charset=ISO-8859-1"/>
    <LINK TYPE="text/css" REL="stylesheet" HREF="adobe_source.css"/>
    <LINK REL="alternate" TITLE="stlab.adobe.com RSS" HREF="http://sourceforge.net/export/rss2_projnews.php?group_id=132417&amp;rss_fulltext=1" TYPE="application/rss+xml"/>
    <script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script>
</head>
<body>
<div id='content'>
<table><tr>
<td colspan='5'>
    <div id='opensource_banner'>
    <table style='width: 100%; padding: 5px;'><tr>
    <td align='left'>
        <a href='index.html' style='border: none'><img src='stlab2007.jpg' alt="stlab.adobe.com"/></a>
    </td>
    <td align='right'>
        <a href='http://www.adobe.com' style='border: none'><img src='adobe_hlogo.gif' alt="Adobe Systems Incorporated"/></a>
    </td>
    </tr></table>
    </div>
</td></tr><tr>
<td valign="top">
    <div id='navtable' height='100%'>
    <div style='margin: 5px'>
        <h4>Documentation</h4>

        <a href="group__asl__overview.html">Overview</a><br/>
        <a href="asl_readme.html">Building ASL</a><br/>
        <a href="asl_toc.html">Documentation</a><br/>
        <a href="http://stlab.adobe.com/wiki/index.php/Supplementary_ASL_Documentation">Library Wiki Docs</a><br/>
        <a href="asl_indices.html">Indices</a><br/>
        <a href="http://stlab.adobe.com/perforce/">Browse Perforce</a><br/>

        <h4>More Info</h4>

        <a href="asl_release_notes.html">Release Notes</a><br/>
        <a href="http://stlab.adobe.com/wiki/">Wiki</a><br/>
        <a href="asl_search.html">Site Search</a><br/>
        <a href="licenses.html">License</a><br/>
        <a href="success_stories.html">Success Stories</a><br/>
        <a href="asl_contributors.html">Contributors</a><br/>

        <h4>Media</h4>

        <a href="http://sourceforge.net/project/showfiles.php?group_id=132417&amp;package_id=145420">Download</a><br/>
        <a href="asl_download_perforce.html">Perforce Depots</a><br/>

        <h4>Support</h4>

        <a href="http://sourceforge.net/projects/adobe-source/">ASL SourceForge Home</a><br/>
        <a href="http://sourceforge.net/mail/?group_id=132417">Mailing Lists</a><br/>
        <a href="http://sourceforge.net/forum/?group_id=132417">Discussion Forums</a><br/>
        <a href="http://sourceforge.net/tracker/?atid=724218&amp;group_id=132417&amp;func=browse">Report Bugs</a><br/>
        <a href="http://sourceforge.net/tracker/?atid=724221&amp;group_id=132417&amp;func=browse">Suggest Features</a><br/>
        <a href="asl_contributing.html">Contribute to ASL</a><br/>

        <h4>RSS</h4>

        <a href="http://sourceforge.net/export/rss2_projnews.php?group_id=132417">Short-text news</a><br/>
        <a href="http://sourceforge.net/export/rss2_projnews.php?group_id=132417&amp;rss_fulltext=1">Full-text news</a><br/>
        <a href="http://sourceforge.net/export/rss2_projfiles.php?group_id=132417">File releases</a><br/>

        <h4>Other Adobe Projects</h4>

        <a href="http://sourceforge.net/adobe/">Open @ Adobe</a><br/>
        <a href="http://opensource.adobe.com/">Adobe Open Source</a><br/>
        <a href="http://labs.adobe.com/">Adobe Labs</a><br/>
        <a href="http://stlab.adobe.com/amg/">Adobe Media Gallery</a><br/>
        <a href="http://stlab.adobe.com/performance/">C++ Benchmarks</a><br/>

        <h4>Other Resources</h4>

        <a href="http://boost.org">Boost</a><br/>
        <a href="http://www.riaforge.com/">RIAForge</a><br/>
        <a href="http://www.sgi.com/tech/stl">SGI STL</a><br/>
    </div>
    </div>
</td>
<td id='maintable' width="100%" valign="top">

<!-- End Header -->
<!-- Generated by Doxygen 1.7.2 -->
<div class="header">
  <div class="headertitle">
<h1>stable_sort </h1>  </div>
</div>
<div class="contents">
<table  cellpadding="0" cellspacing="0" width="100%" border="0">
<tr>
<td align="left"><div align="center">
<img src="algorithms.gif" alt="algorithms.gif"/>
</div>
 </td><td width="100%"></td><td align="right"><div align="center">
<img src="function.gif" alt="function.gif"/>
</div>
  </td></tr>
<tr>
<td align="left" valign="top"><b>Category</b>: algorithms </td><td width="100%"></td><td align="right" valign="top"><b>Component type</b>: function  </td></tr>
</table>
<h2><a class="anchor" id="Prototype"></a>
Prototype</h2>
<p><code>Stable_sort</code> is an overloaded name; there are actually two <code>stable_sort</code> functions. </p>
<div class="fragment"><pre class="fragment"><span class="keyword">template</span> &lt;<span class="keyword">class</span> RandomAccessIterator&gt;
<span class="keywordtype">void</span> <a class="code" href="group__sort.html#ga8c3e8c87fcb53eb3af29c3b5d990e153" title="sort implementation">stable_sort</a>(RandomAccessIterator first, RandomAccessIterator last);

<span class="keyword">template</span> &lt;<span class="keyword">class</span> RandomAccessIterator, <span class="keyword">class</span> StrictWeakOrdering&gt;
<span class="keywordtype">void</span> <a class="code" href="group__sort.html#ga8c3e8c87fcb53eb3af29c3b5d990e153" title="sort implementation">stable_sort</a>(RandomAccessIterator first, RandomAccessIterator last, 
                 StrictWeakOrdering comp);
</pre></div> <h2><a class="anchor" id="Description"></a>
Description</h2>
<p><code>Stable_sort</code> is much like <code><a class="el" href="stldoc_sort.html">sort</a></code>: it sorts the elements in <code>[first, last)</code> into ascending order, meaning that if <code>i</code> and <code>j</code> are any two valid iterators in <code>[first, last)</code> such that <code>i</code> precedes <code>j</code>, then <code>*j</code> is not less than <code>*i</code>. <code>Stable_sort</code> differs from <code><a class="el" href="stldoc_sort.html">sort</a></code> in two ways. First, <code>stable_sort</code> uses an algorithm that has different run-time complexity than <code><a class="el" href="stldoc_sort.html">sort</a></code>. Second, as the name suggests, <code>stable_sort</code> is stable: it preserves the relative ordering of equivalent elements. That is, if <code>x</code> and <code>y</code> are elements in <code>[first, last)</code> such that <code>x</code> precedes <code>y</code>, and if the two elements are equivalent (neither <code>x &lt; y</code> nor <code>y &lt; x</code>) then a postcondition of <code>stable_sort</code> is that <code>x</code> still precedes <code>y</code>. <a href="#1">[1]</a> </p>
<p>The two versions of <code>stable_sort</code> differ in how they define whether one element is less than another. The first version compares objects using <code>operator&lt;</code>, and the second compares objects using a <a class="el" href="stldoc_functors.html">functors</a> <code>comp</code>. </p>
<h2><a class="anchor" id="Definition"></a>
Definition</h2>
<p>Defined in the standard header <a href="algorithm">algorithm</a>, and in the nonstandard backward-compatibility header <a href="algo.h">algo.h</a>. </p>
<h2><a class="anchor" id="Requirements_on_types"></a>
Requirements on types</h2>
<p>For the first version, the one that takes two arguments: </p>
<ul>
<li>
<code>RandomAccessIterator</code> is a model of <a class="el" href="stldoc_RandomAccessIterator.html">RandomAccessIterator</a>. </li>
<li>
<code>RandomAccessIterator</code> is mutable. </li>
<li>
<code>RandomAccessIterator</code>'s value type is <a class="el" href="stldoc_LessThanComparable.html">LessThanComparable</a>. </li>
<li>
The ordering relation on <code>RandomAccessIterator</code>'s value type is a <em>strict weak ordering</em>, as defined in the <a class="el" href="stldoc_LessThanComparable.html">LessThanComparable</a> requirements. </li>
</ul>
<p>For the second version, the one that takes three arguments: </p>
<ul>
<li>
<code>RandomAccessIterator</code> is a model of <a class="el" href="stldoc_RandomAccessIterator.html">RandomAccessIterator</a>. </li>
<li>
<code>RandomAccessIterator</code> is mutable. </li>
<li>
<code>StrictWeakOrdering</code> is a model of <a class="el" href="stldoc_StrictWeakOrdering.html">StrictWeakOrdering</a>. </li>
<li>
<code>RandomAccessIterator</code>'s value type is convertible to <code>StrictWeakOrdering</code>'s argument type. </li>
</ul>
<h2><a class="anchor" id="Preconditions"></a>
Preconditions</h2>
<ul>
<li>
<code>[first, last)</code> is a valid range. </li>
</ul>
<h2><a class="anchor" id="Complexity"></a>
Complexity</h2>
<p><code>Stable_sort</code> is an <em>adaptive</em> algorithm: it attempts to allocate a temporary memory buffer, and its run-time complexity depends on how much memory is available. Worst-case behavior (if no auxiliary memory is available) is <code>N (log N)^2</code> comparisons, where <code>N</code> is <code>last - first</code>, and best case (if a large enough auxiliary memory buffer is available) is <code>N (log N)</code>. <a href="#2">[2]</a> </p>
<h2><a class="anchor" id="Example"></a>
Example</h2>
<p>Sort a sequence of characters, ignoring their case. Note that the relative order of characters that differ only by case is preserved. </p>
<div class="fragment"><pre class="fragment"><span class="keyword">inline</span> <span class="keywordtype">bool</span> lt_nocase(<span class="keywordtype">char</span> c1, <span class="keywordtype">char</span> c2) { <span class="keywordflow">return</span> tolower(c1) &lt; tolower(c2); }

<span class="keywordtype">int</span> main()
{
  <span class="keywordtype">char</span> A[] = <span class="stringliteral">&quot;fdBeACFDbEac&quot;</span>;
  <span class="keyword">const</span> <span class="keywordtype">int</span> N = <span class="keyword">sizeof</span>(A) - 1;
  <a class="code" href="group__sort.html#ga8c3e8c87fcb53eb3af29c3b5d990e153" title="sort implementation">stable_sort</a>(A, A+N, lt_nocase);
  printf(<span class="stringliteral">&quot;%s\n&quot;</span>, A);
  <span class="comment">// The printed result is &quot;&quot;AaBbCcdDeEfF&quot;.</span>
}
</pre></div> <h2><a class="anchor" id="Notes"></a>
Notes</h2>
<p><a class="anchor" id="1"></a>[1] Note that two elements may be equivalent without being equal. One standard example is sorting a sequence of names by last name: if two people have the same last name but different first names, then they are equivalent but not equal. This is why <code>stable_sort</code> is sometimes useful: if you are sorting a sequence of records that have several different fields, then you may want to sort it by one field without completely destroying the ordering that you previously obtained from sorting it by a different field. You might, for example, sort by first name and then do a stable sort by last name. </p>
<p><a class="anchor" id="2"></a>[2] <code>Stable_sort</code> uses the <em>merge sort</em> algorithm; see section 5.2.4 of Knuth. (D. E. Knuth, <em>The Art of Computer Programming. Volume 3: Sorting and Searching</em>. Addison-Wesley, 1975.) </p>
<h2><a class="anchor" id="See_also"></a>
See also</h2>
<p><code><a class="el" href="stldoc_sort.html">sort</a></code>, <code><a class="el" href="stldoc_partial_sort.html">partial_sort</a></code>, <code><a class="el" href="stldoc_partial_sort_copy.html">partial_sort_copy</a></code>, <code><a class="el" href="stldoc_binary_search.html">binary_search</a></code>, <code><a class="el" href="stldoc_lower_bound.html">lower_bound</a></code>, <code><a class="el" href="stldoc_upper_bound.html">upper_bound</a></code>, <code><a class="el" href="stldoc_less.html">less</a>&lt;T&gt;</code>, <a class="el" href="stldoc_StrictWeakOrdering.html">StrictWeakOrdering</a>, <a class="el" href="stldoc_LessThanComparable.html">LessThanComparable</a> </p>
</div>

<!-- Begin Footer -->
</td></tr>
</table>
</div> <!-- content -->
<div class='footerdiv'>
    <div id='footersub'>
        <ul>
            <li><a href="http://www.adobe.com/go/gftray_foot_aboutadobe">Company</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_privacy_security">Online Privacy Policy</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_terms">Terms of Use</a>&nbsp;|&nbsp;</li>
    
            <li><a href="http://www.adobe.com/go/gftray_foot_contact_adobe">Contact Us</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_accessibility">Accessibility</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_report_piracy">Report Piracy</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_permissions_trademarks">Permissions &amp; Trademarks</a>&nbsp;|&nbsp;</li>
            <li><a href="http://www.adobe.com/go/gftray_foot_product_license_agreements">Product License Agreements</a>&nbsp;|&nbsp;</li>
    
            <li><a href="http://www.adobe.com/go/gftray_foot_feedback">Send Feedback</a></li>
        </ul>
        <div>
            <p>Copyright &#169; 2006-2007 Adobe Systems Incorporated.</p>
            <p>Use of this website signifies your agreement to the <a href="http://www.adobe.com/go/gftray_foot_terms">Terms of Use</a> and <a href="http://www.adobe.com/go/gftray_foot_privacy_security">Online Privacy Policy</a>.</p>
            <p>Search powered by <a href="http://www.google.com/" target="new">Google</a></p>
        </div>
	</div>
</div>
<script type="text/javascript">
_uacct = "UA-396569-1";
urchinTracker();
</script>
</body>
</html>
